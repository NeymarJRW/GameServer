{"remainingRequest":"/Users/gaga/Desktop/GameServer/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/gaga/Desktop/GameServer/src/views/Manage/Recom_recommend.vue?vue&type=style&index=0&id=da044cca&scoped=true&lang=css&","dependencies":[{"path":"/Users/gaga/Desktop/GameServer/src/views/Manage/Recom_recommend.vue","mtime":1574661800268},{"path":"/Users/gaga/Desktop/GameServer/node_modules/css-loader/index.js","mtime":1557114191000},{"path":"/Users/gaga/Desktop/GameServer/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1557114192000},{"path":"/Users/gaga/Desktop/GameServer/node_modules/postcss-loader/src/index.js","mtime":1557114192000},{"path":"/Users/gaga/Desktop/GameServer/node_modules/cache-loader/dist/cjs.js","mtime":1558076220000},{"path":"/Users/gaga/Desktop/GameServer/node_modules/vue-loader/lib/index.js","mtime":1557114192000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.recommend {\n  width: 100%;\n  height: 100%;\n  padding: 20px;\n}\n\n.addgame {\n  text-align: center;\n  margin-top: 10px;\n}\n.upload_image {\n  position: absolute;\n  top: 0;\n  transform: translate(-50%, 0);\n  height: 100%;\n}\n.addbtn {\n  /* margin-bottom: 10px; */\n  margin-left: 10px;\n}\n.erweima {\n  width: 200px;\n  height: 200px;\n  position: absolute;\n  right: 10px;\n  z-index: 10;\n  display: none;\n}\n.select {\n  display: flex;\n  align-items: center;\n  margin-right: 10px;\n  margin-bottom: 10px;\n}\n",{"version":3,"sources":["Recom_recommend.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAksBA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Recom_recommend.vue","sourceRoot":"src/views/Manage","sourcesContent":["<template>\n  <div class=\"recommend\">\n    <img\n      class=\"erweima\"\n      src=\"https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1573195367472&di=bceec95e129b034b431ca62b2356c8c2&imgtype=0&src=http%3A%2F%2Fpic34.nipic.com%2F20131030%2F2455348_194508648000_2.jpg\"\n      alt\n    />\n\n    <div class=\"select\">\n      <Dropdown style=\"margin-left: 20px;\">\n        <Button type=\"primary\" style=\"width:100px\">\n          {{selectplatname.length>0 ? selectplatname :'选择平台'}}\n          <Icon type=\"ios-arrow-down\"></Icon>\n        </Button>\n        <DropdownMenu slot=\"list\" class=\"xialai\">\n          <DropdownItem v-for=\"item in platformarr\">\n            <span @click=\"selectPlat(item.platform,item.name )\">{{item.name }}</span>\n          </DropdownItem>\n        </DropdownMenu>\n      </Dropdown>\n      <!-- <Select v-model=\"selectplatname\" style=\"width:200px\" @click=\"selectPlat(item.platform)\">\n        <Option v-for=\"item in platformarr\" :value=\"item.platform\" :key=\"item.id\" >{{ item.name }}</Option>\n      </Select>-->\n      <Button class=\"addbtn\" type=\"primary\" @click=\"getallgame\">全部游戏</Button>\n      <Button class=\"addbtn\" type=\"primary\" @click=\"addflag = true , platformflag=false\">添加推荐游戏</Button>\n    </div>\n\n    <Table class=\"table\" :loading=\"tableloading\" stripe border :columns=\"columns\" :data=\"pagedata\"></Table>\n    <Page\n      :current.sync=\"pageindex\"\n      style=\"text-align:center;margin-top:10px\"\n      :total=\"total\"\n      :page-size=\"pagesize\"\n      @on-change=\"pagechange\"\n    />\n\n    <!-- 添加游戏 -->\n    <Modal v-model=\"addflag\" width=\"800\">\n      <p slot=\"header\" style=\"text-align:center\">\n        <span>添加推荐游戏</span>\n      </p>\n      <div class=\"addgame\">\n        选择游戏:\n        <Select v-model=\"re_game_id\" style=\"width:500px\" @on-change=\"selectGame\">\n          <Option\n            v-for=\"item in gamearr\"\n            :value=\" parseInt(item.id) \"\n            :key=\"item.id\"\n          >{{ item.name }}</Option>\n        </Select>\n      </div>\n      <div class=\"addgame\">\n        选择平台:\n        <Select\n          :disabled=\"platformflag\"\n          v-model=\"platform\"\n          style=\"width:500px\"\n          @on-change=\"selectPlatform\"\n        >\n          <Option v-for=\"item in platformarr\" :value=\"item.platform\" :key=\"item.id\">{{ item.name }}</Option>\n        </Select>\n      </div>\n      <div class=\"addgame\" v-show=\"infocontent\">\n        应用商店地址:\n        <Input v-model=\"store_url\" placeholder=\"应用商店地址和落地页地址请至少填写一个...\" style=\"width: 500px\" />\n      </div>\n      <div class=\"addgame\" v-show=\"infocontent\">\n        落地页地址:\n        <Input v-model=\"url\" placeholder=\"应用商店地址和落地页地址请至少填写一个...\" style=\"width: 500px\" />\n      </div>\n      <div class=\"addgame\" v-show=\"!infocontent\">\n        平台唯一标识:\n        <Input v-model=\"appid\" placeholder=\"请输入平台唯一标识...\" style=\"width: 500px\" />\n      </div>\n      <div class=\"addgame\" v-show=\"!infocontent\">\n        <Upload\n          style=\"margin:0 40px\"\n          :on-success=\"handleUpload\"\n          type=\"drag\"\n          :action=\"uploadqrcodeurl\"\n        >\n          <div style=\"padding: 20px 0\">\n            <Icon type=\"ios-cloud-upload\" size=\"52\" style=\"color: #3399ff\"></Icon>\n            <p>点击此处上传二维码图片</p>\n          </div>\n        </Upload>\n        <p>二维码地址:{{ qrcode_url.length>0 ? pinjieUrl+qrcode_url : ''}}</p>\n      </div>\n\n      <div class=\"addgame\">\n        指定游戏推荐:\n        <Select v-model=\"game_id\" style=\"width:500px\">\n          <Option\n            v-for=\"item in zhidinggamearr\"\n            :value=\"parseInt(item.id)\"\n            :key=\"item.id\"\n          >{{ item.name }}</Option>\n        </Select>\n        <p style=\"color:#D1D1D1\">*不选默认为全部推荐</p>\n      </div>\n      <div class=\"addgame\">\n        游戏排序:\n        <Input v-model=\"sort\" placeholder=\"默认为0,输入整数为推荐顺序\" style=\"width: 500px\" />\n      </div>\n      <div slot=\"footer\">\n        <Button type=\"primary\" size=\"large\" long @click=\"addRecomGame\">添加</Button>\n      </div>\n    </Modal>\n\n    <!-- 修改游戏 -->\n    <Modal v-model=\"editflag\" width=\"800\">\n      <p slot=\"header\" style=\"text-align:center\">\n        <span>修改推荐游戏</span>\n      </p>\n      <div class=\"addgame\">\n        选择游戏:\n        <Select v-model=\" re_game_id\" style=\"width:500px\" @on-change=\"selectGame\">\n          <Option\n            v-for=\"item in gamearr\"\n            :value=\" parseInt(item.id) \"\n            :key=\"item.id\"\n          >{{ item.name }}</Option>\n        </Select>\n      </div>\n      <div class=\"addgame\">\n        选择平台:\n        <Select disabled v-model=\"platform\" style=\"width:500px\" @on-change=\"selectPlatform\">\n          <Option v-for=\"item in platformarr\" :value=\"item.platform\" :key=\"item.id\">{{ item.name }}</Option>\n        </Select>\n      </div>\n      <div class=\"addgame\" v-show=\"infocontent\">\n        应用商店地址:\n        <Input v-model=\"store_url\" placeholder=\"应用商店地址和落地页地址请至少填写一个...\" style=\"width: 500px\" />\n      </div>\n      <div class=\"addgame\" v-show=\"infocontent\">\n        落地页地址:\n        <Input v-model=\"url\" placeholder=\"应用商店地址和落地页地址请至少填写一个...\" style=\"width: 500px\" />\n      </div>\n      <div class=\"addgame\" v-show=\"!infocontent\">\n        平台唯一标识:\n        <Input v-model=\"appid\" placeholder=\"请输入平台唯一标识...\" style=\"width: 500px\" />\n      </div>\n      <div class=\"addgame\" v-show=\"!infocontent\">\n        <Upload\n          style=\"margin:0 40px\"\n          :on-success=\"handleUpload\"\n          type=\"drag\"\n          :action=\"uploadqrcodeurl\"\n        >\n          <div style=\"padding: 20px 0\">\n            <Icon type=\"ios-cloud-upload\" size=\"52\" style=\"color: #3399ff\"></Icon>\n            <p>点击此处上传新的二维码图片</p>\n          </div>\n        </Upload>\n        <p>二维码地址:{{ pinjieUrl+qrcode_url}}</p>\n      </div>\n\n      <div class=\"addgame\">\n        指定游戏推荐:\n        <Select v-model=\"game_id\" style=\"width:500px\">\n          <Option\n            v-for=\"item in zhidinggamearr\"\n            :value=\"parseInt(item.id)\"\n            :key=\"item.id\"\n          >{{ item.name }}</Option>\n        </Select>\n        <p style=\"color:#D1D1D1\">*不选默认为全部推荐</p>\n      </div>\n      <div class=\"addgame\">\n        游戏排序:\n        <Input v-model=\"sort\" placeholder=\"默认为0,输入整数为推荐顺序\" style=\"width: 500px\" />\n      </div>\n      <div slot=\"footer\">\n        <Button type=\"primary\" size=\"large\" long @click=\"editRecomGame\">修改</Button>\n      </div>\n    </Modal>\n  </div>\n</template>\n\n<script>\nimport {\n  recomRecommend,\n  recomGameadd,\n  gameRecommend,\n  platformRecommend,\n  addrecomRecommend,\n  uploadqrcodeurl,\n  editrecomRecommend,\n  pinjieUrl,\n  deleterecomRecommend\n} from \"@/api/index.js\";\n\nexport default {\n  data() {\n    return {\n      addflag: false,\n      editflag: false,\n      platformflag: false,\n      selectplatname: \"\",\n      pageindex: 1,\n      uploadsrc: \"\",\n      name: \"\",\n      bundle: \"\",\n      version: \"\",\n      icon: null,\n      columns: [\n        {\n          title: \"ID\",\n          key: \"id\",\n          width: 80\n        },\n        {\n          title: \"图像\",\n          key: \"re_icon\",\n          width: 80,\n          render: (h, params) => {\n            return h(\"div\", [\n              h(\"Avatar\", {\n                props: {\n                  shape: \"square\",\n                  // src: params.row.icon\n                  src: pinjieUrl + params.row.re_icon\n                }\n              })\n            ]);\n          }\n        },\n        {\n          title: \"推荐游戏名称\",\n          key: \"re_game_name\",\n          width: 120\n        },\n        {\n          title: \"平台\",\n          key: \"platform\", //platform_name\n          width: 150,\n          render: (h, params) => {\n            return h(\"div\", [\n              h(\"p\", params.row.platform + \"(\" + params.row.platform_name + \")\")\n            ]);\n          }\n        },\n        //  {\n        //   title: \"推荐游戏ID\",\n        //   key: \"re_game_id\",\n        //   width: 100\n        // },\n\n        {\n          title: \"指定游戏推荐名称\",\n          key: \"game_name\",\n          // width:150,\n          render: (h, params) => {\n            return h(\"div\", [\n              h(\"p\", params.row.game_id == 0 ? \"全部\" : params.row.game_name)\n            ]);\n          }\n        },\n        {\n          title: \"推荐游戏信息\",\n          key: \"re_info\",\n          width: 250,\n          render: (h, params) => {\n            if (\n              params.row.platform == \"4399\" ||\n              params.row.platform == \"myapp\" ||\n              params.row.platform == \"oppo\" ||\n              params.row.platform == \"android\"\n            ) {\n              return h(\"div\", [\n                h(\"p\", \"应用商店地址:\" + params.row.re_info[\"store_url\"]),\n                h(\"p\", \"落地页地址:\" + params.row.re_info[\"url\"])\n              ]);\n            } else {\n              //二维码\n              return h(\"div\", [\n                h(\"img\", {\n                  attrs: {\n                    style: \"width: 50px;height:50px;margin:5px\",\n                    src: pinjieUrl + params.row.re_info[\"qrcode_url\"]\n                  },\n                  on: {\n                    // click: () => {console.log('ffff')},\n                    mouseover: () => {\n                      document.querySelector(\".erweima\").style.display =\n                        \"block\";\n                      document.querySelector(\".erweima\").src =\n                        pinjieUrl + params.row.re_info[\"qrcode_url\"];\n                    },\n                    mouseleave: () => {\n                      document.querySelector(\".erweima\").style.display = \"none\";\n                    }\n                  }\n                }),\n                h(\"p\", \"平台标识:\" + params.row.re_info[\"appid\"])\n              ]);\n            }\n          }\n        },\n        {\n          title: \"操作\",\n          key: \"action\",\n          width: 150,\n          align: \"center\",\n          render: (h, params) => {\n            return h(\"div\", [\n              h(\n                \"Button\",\n                {\n                  props: {\n                    type: \"primary\",\n                    size: \"small\"\n                  },\n                  style: {\n                    marginRight: \"5px\"\n                  },\n                  on: {\n                    click: () => {\n                      this.editflag = true;\n                      //修改推荐游戏参数\n                      this.re_id = params.row.id;\n                      this.platform = params.row.platform;\n                      this.re_game_id = parseInt(params.row.re_game_id);\n                      this.game_id = params.row.game_id;\n                      this.zhidinggamearr = this.gamearr.filter(\n                        item => item.id != this.re_game_id\n                      );\n                      var arr = [{ name: \"全部\", id: 0 }];\n                      this.zhidinggamearr = arr.concat(this.zhidinggamearr);\n                      if (\n                        params.row.platform == \"4399\" ||\n                        params.row.platform == \"myapp\" ||\n                        params.row.platform == \"oppo\" ||\n                        params.row.platform == \"android\"\n                      ) {\n                        this.infocontent = true;\n                        this.store_url = params.row.re_info[\"store_url\"];\n                        this.url = params.row.re_info[\"url\"];\n                      } else {\n                        this.infocontent = false;\n                        this.appid = params.row.re_info[\"appid\"];\n                        this.qrcode_url = params.row.re_info[\"qrcode_url\"];\n                      }\n                    }\n                  }\n                },\n                \"修改\"\n              ),\n              h(\n                \"Button\",\n                {\n                  props: {\n                    type: \"error\",\n                    size: \"small\"\n                  },\n                  on: {\n                    click: () => {\n                      // this.show(params.index);\n                      this.$Modal.confirm({\n                        title: \"提示\",\n                        content:\n                          \"<p>你确定要删除吗?</p>\",\n                        onOk: () => {\n                          this.deleteRecomGame(params.row.id);\n                        },\n                        onCancel: () => {\n                          // this.$Message.info(\"Clicked cancel\");\n                        }\n                      });\n                    }\n                  }\n                },\n                \"删除\"\n              )\n            ]);\n          }\n        }\n        // {\n        //   title: \"操作\",\n        //   key: \"action\",\n        //   // width: 200,\n        //   align: \"center\",\n        //   render: (h, params) => {\n        //     return h(\"div\", [\n        //       h(\n        //         \"Button\",\n        //         {\n        //           props: {\n        //             type: \"primary\",\n        //             size: \"small\"\n        //           },\n        //           style: {\n        //             marginRight: \"5px\"\n        //           },\n        //           on: {\n        //             click: () => {\n        //               this.editflag = true;\n        //               //修改推荐游戏参数\n        //               // platform: null\n        //               this.re_id = params.row.id;\n        //               this.platform = params.row.platform;\n        //               // this.platform = \"4399\";\n        //               this.re_game_id = parseInt(params.row.re_game_id);\n        //               this.game_id = params.row.game_id;\n        //               this.zhidinggamearr = this.gamearr.filter(\n        //                 item => item.id != this.re_game_id\n        //               );\n        //               var arr = [{ name: \"全部\", id: 0 }];\n        //               this.zhidinggamearr = arr.concat(this.zhidinggamearr);\n\n        //               if (\n        //                 params.row.platform == \"4399\" ||\n        //                 params.row.platform == \"myapp\" ||\n        //                 params.row.platform == \"oppo\" ||\n        //                 params.row.platform == \"android\"\n        //               ) {\n        //                 this.infocontent = true;\n        //                 this.store_url = params.row.re_info[\"store_url\"];\n        //                 this.url = params.row.re_info[\"url\"];\n        //               } else {\n        //                 this.infocontent = false;\n        //                 this.appid = params.row.re_info[\"appid\"];\n        //                 this.qrcode_url = params.row.re_info[\"qrcode_url\"];\n        //               }\n        //             }\n        //           }\n        //         },\n        //         \"修改\"\n        //       )\n        //     ]);\n        //   }\n        // }\n      ],\n      gamedata: [], //所有游戏\n      total: 0, //一共几条数据\n      pagesize: 10, //一页几条数据\n      tableloading: false,\n      pagedata: [],\n      allgamedata: [],\n      allpagedata: [],\n      gamearr: [], //获取所有游戏信息\n      platformarr: [], //获取所有平台信息\n      zhidinggamearr: [], //指定推荐游戏信息\n      infocontent: true,\n      //修改推荐游戏参数\n      re_id: null, //平台id\n      platform: null,\n      re_game_id: null,\n      info: [],\n      game_id: null,\n      sort: null,\n      store_url: \"\",\n      url: \"\",\n      appid: \"\",\n      qrcode_url: \"\",\n      uploadqrcodeurl: \"\",\n      pinjieUrl: \"\"\n    };\n  },\n  watch: {\n    editflag(val) {\n      if (!val) {\n        this.platform = null;\n        this.re_game_id = null;\n        this.info = [];\n        this.game_id = null;\n        this.store_url = \"\";\n        this.url = \"\";\n        this.appid = \"\";\n        this.qrcode_url = \"\";\n        this.zhidinggamearr = [];\n        this.infocontent = true;\n        this.sort = null;\n      }\n    },\n    addflag(val) {\n      this.infocontent = true;\n      if (!val) {\n        this.platform = null;\n        this.re_game_id = null;\n        this.info = [];\n        this.game_id = null;\n        this.store_url = \"\";\n        this.url = \"\";\n        this.appid = \"\";\n        this.qrcode_url = \"\";\n        this.zhidinggamearr = [];\n        this.sort = null;\n      }\n    }\n  },\n  mounted() {\n    this.getdata();\n    this.uploadqrcodeurl = uploadqrcodeurl;\n    this.pinjieUrl = pinjieUrl;\n  },\n  methods: {\n    getpage(data) {\n      this.pageindex = 1;\n      this.total = data.length;\n      this.allgamedata = data;\n      this.pagedata = this.allgamedata.slice(0, this.pagesize);\n    },\n    getdata() {\n      this.selectplatname = \"\";\n\n      this.tableloading = true;\n      recomRecommend().then(res => {\n        this.tableloading = false;\n        this.allpagedata = res.msg;\n        this.getpage(res.msg);\n      });\n      gameRecommend().then(res => {\n        this.gamearr = res.msg;\n      });\n      platformRecommend().then(res => {\n        this.platformarr = res.msg;\n      });\n    },\n\n    pagechange(index) {\n      var _start = (index - 1) * this.pagesize;\n      var _end = index * this.pagesize;\n      this.pagedata = this.allgamedata.slice(_start, _end);\n    },\n    handleUpload(res) {\n      if (res.state == \"1\") {\n        this.qrcode_url = res.msg;\n      } else {\n        this.$Message.error(res.msg);\n      }\n    },\n    selectGame(id) {\n      this.gamearr.map(item => {\n        if (item.id == id) {\n          this.platform = item.platform;\n          if (\n            this.platform == \"4399\" ||\n            this.platform == \"myapp\" ||\n            this.platform == \"oppo\" ||\n            this.platform == \"android\"\n          ) {\n            this.infocontent = true;\n          } else {\n            this.infocontent = false;\n          }\n          return;\n        }\n      });\n      this.platformflag = true;\n      this.zhidinggamearr = this.gamearr.filter(item => item.id != id);\n      var arr = [{ name: \"全部\", id: 0 }];\n      this.zhidinggamearr = arr.concat(this.zhidinggamearr);\n    },\n    selectPlatform(name) {\n      if (\n        name == \"4399\" ||\n        name == \"myapp\" ||\n        name == \"oppo\" ||\n        name == \"android\"\n      ) {\n        this.infocontent = true;\n      } else {\n        this.infocontent = false;\n      }\n    },\n    selectPlat(platform, name) {\n      this.selectplatname = name;\n      this.getpage(\n        this.allpagedata.filter(item => {\n          return item.platform == platform;\n        })\n      );\n    },\n    getallgame() {\n      this.selectplatname = \"\";\n\n      this.getpage(this.allpagedata);\n      // this.selectplatname=null;\n    },\n    addRecomGame() {\n      if (this.platform && this.re_game_id) {\n        if (this.infocontent) {\n          // 应用宝 4399 oppo andriod\n          if (this.store_url.length || this.url.length) {\n            this.info = [{ store_url: this.store_url }, { url: this.url }];\n            addrecomRecommend({\n              platform: this.platform,\n              re_game_id: this.re_game_id,\n              info: this.info,\n              game_id: this.game_id ? this.game_id : 0,\n              sort: this.sort ? this.sort : 0\n            }).then(res => {\n              if (res.state == 1) {\n                this.$Message.success(res.msg);\n                this.getdata();\n                this.addflag = false;\n              } else {\n                this.$Message.error(res.msg);\n              }\n            });\n          } else {\n            this.$Message.error(\"信息不完整\");\n          }\n        } else {\n          //voio xiaomi\n          if (this.appid.length > 0 && this.qrcode_url.length > 0) {\n            this.info = [\n              { appid: this.appid },\n              { qrcode_url: this.qrcode_url }\n            ];\n            addrecomRecommend({\n              platform: this.platform,\n              re_game_id: this.re_game_id,\n              info: this.info,\n              game_id: this.game_id ? this.game_id : 0,\n              sort: this.sort ? this.sort : 0\n            }).then(res => {\n              if (res.state == 1) {\n                this.$Message.success(res.msg);\n                this.getdata();\n                this.addflag = false;\n              } else {\n                this.$Message.error(res.msg);\n              }\n            });\n          } else {\n            this.$Message.error(\"信息不完整\");\n          }\n        }\n      } else {\n        this.$Message.error(\"信息不完整\");\n      }\n    },\n    editRecomGame() {\n      if (this.platform && this.re_game_id) {\n        if (this.infocontent) {\n          // 应用宝 4399 oppo andriod\n          if (this.store_url.length || this.url.length) {\n            this.info = [{ store_url: this.store_url }, { url: this.url }];\n            editrecomRecommend({\n              re_id: parseInt(this.re_id),\n              platform: this.platform,\n              re_game_id: this.re_game_id,\n              info: this.info,\n              game_id: this.game_id ? this.game_id : 0,\n              sort: this.sort ? this.sort : 0\n            }).then(res => {\n              if (res.state == 1) {\n                this.$Message.success(res.msg);\n                this.getdata();\n                this.editflag = false;\n              } else {\n                this.$Message.error(res.msg);\n              }\n            });\n          } else {\n            this.$Message.error(\"信息不完整\");\n          }\n        } else {\n          //voio xiaomi\n          if (this.appid.length > 0 && this.qrcode_url.length > 0) {\n            this.info = [\n              { appid: this.appid },\n              { qrcode_url: this.qrcode_url }\n            ];\n            editrecomRecommend({\n              re_id: parseInt(this.re_id),\n              platform: this.platform,\n              re_game_id: this.re_game_id,\n              info: this.info,\n              game_id: this.game_id ? this.game_id : 0,\n              sort: this.sort ? this.sort : 0\n            }).then(res => {\n              if (res.state == 1) {\n                this.$Message.success(res.msg);\n                this.getdata();\n                this.editflag = false;\n              } else {\n                this.$Message.error(res.msg);\n              }\n            });\n          } else {\n            this.$Message.error(\"信息不完整\");\n          }\n        }\n      } else {\n        this.$Message.error(\"信息不完整\");\n      }\n    },\n    deleteRecomGame(id) {\n      // console.log(id)\n      deleterecomRecommend({ re_id: id }).then(res => {\n        if(res.state==\"0\"){\n          this.$Message.success(res.msg);\n          this.getdata();\n        }else{\n          this.$Message.error(res.msg);\n        }\n      });\n    }\n  }\n};\n</script>\n\n<style scoped>\n.recommend {\n  width: 100%;\n  height: 100%;\n  padding: 20px;\n}\n\n.addgame {\n  text-align: center;\n  margin-top: 10px;\n}\n.upload_image {\n  position: absolute;\n  top: 0;\n  transform: translate(-50%, 0);\n  height: 100%;\n}\n.addbtn {\n  /* margin-bottom: 10px; */\n  margin-left: 10px;\n}\n.erweima {\n  width: 200px;\n  height: 200px;\n  position: absolute;\n  right: 10px;\n  z-index: 10;\n  display: none;\n}\n.select {\n  display: flex;\n  align-items: center;\n  margin-right: 10px;\n  margin-bottom: 10px;\n}\n</style>\n"]}]}