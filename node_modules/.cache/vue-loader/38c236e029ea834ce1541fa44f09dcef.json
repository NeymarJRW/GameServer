{"remainingRequest":"/Users/gaga/Desktop/GameServer/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/gaga/Desktop/GameServer/src/views/Manage/Recom_platform.vue?vue&type=style&index=0&id=273993b4&scoped=true&lang=css&","dependencies":[{"path":"/Users/gaga/Desktop/GameServer/src/views/Manage/Recom_platform.vue","mtime":1573199018138},{"path":"/Users/gaga/Desktop/GameServer/node_modules/css-loader/index.js","mtime":1557114191000},{"path":"/Users/gaga/Desktop/GameServer/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1557114192000},{"path":"/Users/gaga/Desktop/GameServer/node_modules/postcss-loader/src/index.js","mtime":1557114192000},{"path":"/Users/gaga/Desktop/GameServer/node_modules/cache-loader/dist/cjs.js","mtime":1558076220000},{"path":"/Users/gaga/Desktop/GameServer/node_modules/vue-loader/lib/index.js","mtime":1557114192000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.recommend {\n  width: 100%;\n  height: 100%;\n  padding: 10px 20px;\n\n}\n.addgame {\n  text-align: center;\n  margin-top: 10px;\n}\n.upload_image {\n  position: absolute;\n  top: 0;\n  transform: translate(-50%, 0);\n  height: 100%;\n}\n.addbtn{\n  margin-bottom: 10px;\n}\n/* CFBundleDisplayName=\"Legend Never Dies\";\nCFBundleDisplayName=\"伝説は死なない\";\nCFBundleDisplayName=\"Legende stirbt nie\"; 德\nCFBundleDisplayName=\"La légende ne meurt jamais\"; 法 */\n\n",{"version":3,"sources":["Recom_platform.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4GA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Recom_platform.vue","sourceRoot":"src/views/Manage","sourcesContent":["<template>\n  <div class=\"recommend\">\n    <Button class=\"addbtn\" type=\"primary\" @click=\"addflag = true\">添加平台</Button>\n\n    <Table class=\"table\" :loading=\"tableloading\" stripe border :columns=\"columns\" :data=\"gamedata\"></Table>\n\n    <Modal v-model=\"addflag\" width=\"400\">\n      <p slot=\"header\" style=\"text-align:center\">\n        <span>添加平台</span>\n      </p>\n      <div class=\"addgame\">\n        名字:\n        <Input v-model=\"name\" placeholder=\"请输入平台名称...\" style=\"width: 250px\" />\n      </div>\n      <div class=\"addgame\">\n        平台:\n        <Input  v-model=\"platform\" placeholder=\"请输入平台英文名称...\" style=\"width: 250px\" />\n      </div>\n      <div class=\"addgame\">\n        序号:\n        <Input v-model=\"sort\" placeholder=\"请输入序号,不输入默认为0...\" style=\"width: 250px\" />\n      </div>\n            <div class=\"addgame\">\n        备注:\n        <Input v-model=\"note\" placeholder=\"请输入备注...\" style=\"width: 250px\" />\n      </div>\n      <div slot=\"footer\">\n        <Button type=\"primary\" size=\"large\" long @click=\"addPlatform\">添加</Button>\n      </div>\n    </Modal>\n  </div>\n</template>\n\n<script>\nimport { platformRecommend, addplatform } from \"@/api/index.js\";\nexport default {\n  data() {\n    return {\n      addflag: false,\n      name: \"\",\n      platform: \"\",\n      sort: null,\n      note: \"\",\n      columns: [\n\n        {\n          title: \"名字\",\n          key: \"name\",\n\n        },\n        {\n          title: \"平台\",\n          key: \"platform\",\n\n        },\n\n\n      ],\n      gamedata: [], //所有数据\n      // total: 0, //一共几条数据\n      // pagesize: 5, //一页几条数据\n      tableloading: false,\n    };\n  },\n  mounted() {\n    this.getdata();\n  },\n  methods: {\n    getdata(){\n      this.tableloading=true;\n      platformRecommend().then(res => {\n          this.tableloading=false;\n         this.gamedata = res.msg;\n      });\n    },\n\n\n    addPlatform() {\n      if (\n        this.platform.length > 0 &&\n        this.name.length > 0 &&\n        this.note.length > 0\n      ) {\n        addplatform({\n          platform:this.platform,\n          name:this.name,\n          sort:this.sort ? this.sort : 0,\n          note:this.note\n        }).then(res=>{\n          if(res.state==1){\n              this.addflag=false;\n              this.getdata();\n              this.$Message.success(res.msg);\n          }else{\n          this.$Message.error(res.msg);\n          }\n\n        })\n    }else{\n              this.$Message.error(\"添加失败\");\n\n    }\n    }\n  }\n};\n</script>\n\n<style scoped>\n.recommend {\n  width: 100%;\n  height: 100%;\n  padding: 10px 20px;\n\n}\n.addgame {\n  text-align: center;\n  margin-top: 10px;\n}\n.upload_image {\n  position: absolute;\n  top: 0;\n  transform: translate(-50%, 0);\n  height: 100%;\n}\n.addbtn{\n  margin-bottom: 10px;\n}\n/* CFBundleDisplayName=\"Legend Never Dies\";\nCFBundleDisplayName=\"伝説は死なない\";\nCFBundleDisplayName=\"Legende stirbt nie\"; 德\nCFBundleDisplayName=\"La légende ne meurt jamais\"; 法 */\n\n</style>\n\n\n"]}]}