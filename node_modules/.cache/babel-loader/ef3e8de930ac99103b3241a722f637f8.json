{"remainingRequest":"/Users/gaga/Desktop/GameServer/node_modules/thread-loader/dist/cjs.js!/Users/gaga/Desktop/GameServer/node_modules/babel-loader/lib/index.js!/Users/gaga/Desktop/GameServer/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/gaga/Desktop/GameServer/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/gaga/Desktop/GameServer/src/views/Manage/Recom_platform.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/gaga/Desktop/GameServer/src/views/Manage/Recom_platform.vue","mtime":1574653204458},{"path":"/Users/gaga/Desktop/GameServer/node_modules/cache-loader/dist/cjs.js","mtime":1558076220000},{"path":"/Users/gaga/Desktop/GameServer/node_modules/thread-loader/dist/cjs.js","mtime":1557114192000},{"path":"/Users/gaga/Desktop/GameServer/node_modules/babel-loader/lib/index.js","mtime":1557114185000},{"path":"/Users/gaga/Desktop/GameServer/node_modules/cache-loader/dist/cjs.js","mtime":1558076220000},{"path":"/Users/gaga/Desktop/GameServer/node_modules/vue-loader/lib/index.js","mtime":1557114192000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.array.sort\";\nimport \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.promise\";\nimport \"core-js/modules/es7.promise.finally\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { platformRecommend, addplatform, editplatform } from \"@/api/index.js\";\nexport default {\n  data: function data() {\n    var _this = this;\n\n    return {\n      addflag: false,\n      editflag: false,\n      id: \"\",\n      name: \"\",\n      platform: \"\",\n      sort: null,\n      note: null,\n      columns: [{\n        title: \"名称\",\n        key: \"name\"\n      }, {\n        title: \"平台标识\",\n        key: \"platform\"\n      }, {\n        title: \"操作\",\n        key: \"action\",\n        // width: 200,\n        align: \"center\",\n        render: function render(h, params) {\n          return h(\"div\", [h(\"Button\", {\n            props: {\n              type: \"primary\",\n              size: \"small\"\n            },\n            style: {\n              marginRight: \"5px\"\n            },\n            on: {\n              click: function click() {\n                _this.editflag = true;\n                _this.id = params.row.id;\n                _this.name = params.row.name;\n                _this.platform = params.row.platform;\n                _this.sort = params.row.sort;\n                _this.note = params.row.note;\n              }\n            }\n          }, \"修改\")]);\n        }\n      }],\n      gamedata: [],\n      //所有数据\n      // total: 0, //一共几条数据\n      // pagesize: 5, //一页几条数据\n      tableloading: false\n    };\n  },\n  watch: {\n    editflag: function editflag(val) {\n      if (!val) {\n        this.id = \"\";\n        this.name = \"\";\n        this.platform = \"\";\n        this.sort = null;\n        this.note = null;\n      }\n    },\n    addflag: function addflag(val) {\n      if (!val) {\n        this.id = \"\";\n        this.name = \"\";\n        this.platform = \"\";\n        this.sort = null;\n        this.note = null;\n      }\n    }\n  },\n  mounted: function mounted() {\n    this.getdata();\n  },\n  methods: {\n    getdata: function getdata() {\n      var _this2 = this;\n\n      this.tableloading = true;\n      platformRecommend().then(function (res) {\n        _this2.tableloading = false;\n        _this2.gamedata = res.msg;\n      });\n    },\n    addPlatform: function addPlatform() {\n      var _this3 = this;\n\n      if (this.platform.length > 0 && this.name.length > 0) {\n        addplatform({\n          platform: this.platform,\n          name: this.name,\n          sort: this.sort ? this.sort : 0,\n          note: this.note ? this.note : null\n        }).then(function (res) {\n          if (res.state == 1) {\n            _this3.addflag = false;\n\n            _this3.getdata();\n\n            _this3.$Message.success(res.msg);\n          } else {\n            _this3.$Message.error(res.msg);\n          }\n        });\n      } else {\n        this.$Message.error(\"添加失败\");\n      }\n    },\n    editPlatform: function editPlatform() {\n      var _this4 = this;\n\n      if (this.platform.length > 0 && this.name.length > 0) {\n        editplatform({\n          id: this.id,\n          platform: this.platform,\n          name: this.name,\n          sort: this.sort ? this.sort : 0,\n          note: this.note ? this.note : null\n        }).then(function (res) {\n          if (res.state == 1) {\n            _this4.editflag = false;\n\n            _this4.getdata();\n\n            _this4.$Message.success(res.msg);\n          } else {\n            _this4.$Message.error(res.msg);\n          }\n        });\n      } else {\n        this.$Message.error(\"修改失败\");\n      }\n    }\n  }\n};",{"version":3,"sources":["Recom_platform.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"recommend\">\n    <Button class=\"addbtn\" type=\"primary\" @click=\"addflag = true\">添加平台</Button>\n\n    <Table class=\"table\" :loading=\"tableloading\" stripe border :columns=\"columns\" :data=\"gamedata\"></Table>\n\n    <!-- 添加平台 -->\n    <Modal v-model=\"addflag\" width=\"600\">\n      <p slot=\"header\" style=\"text-align:center\">\n        <span>添加平台</span>\n      </p>\n      <div class=\"addgame\">\n        名称:\n        <Input v-model=\"name\" placeholder=\"请输入平台名称...\" style=\"width: 400px\" />\n      </div>\n      <div class=\"addgame\">\n        平台标识:\n        <Input v-model=\"platform\" placeholder=\"请输入平台英文名称...\" style=\"width: 400px\" />\n      </div>\n      <div class=\"addgame\">\n        序号:\n        <Input v-model=\"sort\" placeholder=\"请输入序号,不输入默认为0...\" style=\"width: 400px\" />\n      </div>\n      <div class=\"addgame\">\n        备注:\n        <Input v-model=\"note\" placeholder=\"请输入备注(可不填)...\" style=\"width: 400px\" />\n      </div>\n      <div slot=\"footer\">\n        <Button type=\"primary\" size=\"large\" long @click=\"addPlatform\">添加</Button>\n      </div>\n    </Modal>\n\n    <!-- 修改平台 -->\n    <Modal v-model=\"editflag\" width=\"600\">\n      <p slot=\"header\" style=\"text-align:center\">\n        <span>修改平台</span>\n      </p>\n      <div class=\"addgame\">\n        名称:\n        <Input v-model=\"name\" placeholder=\"请输入平台名称...\" style=\"width: 400px\" />\n      </div>\n      <div class=\"addgame\">\n        平台标识:\n        <Input v-model=\"platform\" placeholder=\"请输入平台英文名称...\" style=\"width: 400px\" />\n      </div>\n      <div class=\"addgame\">\n        序号:\n        <Input v-model=\"sort\" placeholder=\"请输入序号,不输入默认为0...\" style=\"width: 400px\" />\n      </div>\n      <div class=\"addgame\">\n        备注:\n        <Input v-model=\"note\" placeholder=\"请输入备注(可不填)...\" style=\"width: 400px\" />\n      </div>\n      <div slot=\"footer\">\n        <Button type=\"primary\" size=\"large\" long @click=\"editPlatform\">添加</Button>\n      </div>\n    </Modal>\n  </div>\n</template>\n\n<script>\nimport { platformRecommend, addplatform, editplatform } from \"@/api/index.js\";\nexport default {\n  data() {\n    return {\n      addflag: false,\n      editflag: false,\n      id: \"\",\n      name: \"\",\n      platform: \"\",\n      sort: null,\n      note: null,\n      columns: [\n        {\n          title: \"名称\",\n          key: \"name\"\n        },\n        {\n          title: \"平台标识\",\n          key: \"platform\"\n        },\n        {\n          title: \"操作\",\n          key: \"action\",\n          // width: 200,\n          align: \"center\",\n          render: (h, params) => {\n            return h(\"div\", [\n              h(\n                \"Button\",\n                {\n                  props: {\n                    type: \"primary\",\n                    size: \"small\"\n                  },\n                  style: {\n                    marginRight: \"5px\"\n                  },\n                  on: {\n                    click: () => {\n                      this.editflag = true;\n                      this.id = params.row.id;\n                      this.name = params.row.name;\n                      this.platform = params.row.platform;\n                      this.sort = params.row.sort;\n                      this.note = params.row.note;\n                    }\n                  }\n                },\n                \"修改\"\n              )\n            ]);\n          }\n        }\n      ],\n      gamedata: [], //所有数据\n      // total: 0, //一共几条数据\n      // pagesize: 5, //一页几条数据\n      tableloading: false\n    };\n  },\n  watch: {\n    editflag(val) {\n      if (!val) {\n        this.id = \"\";\n        this.name = \"\";\n        this.platform = \"\";\n        this.sort = null;\n        this.note = null;\n      }\n    },\n    addflag(val) {\n      if (!val) {\n        this.id = \"\";\n        this.name = \"\";\n        this.platform = \"\";\n        this.sort = null;\n        this.note = null;\n      }\n    }\n  },\n  mounted() {\n    this.getdata();\n  },\n  methods: {\n    getdata() {\n      this.tableloading = true;\n      platformRecommend().then(res => {\n        this.tableloading = false;\n        this.gamedata = res.msg;\n      });\n    },\n\n    addPlatform() {\n      if (this.platform.length > 0 && this.name.length > 0) {\n        addplatform({\n          platform: this.platform,\n          name: this.name,\n          sort: this.sort ? this.sort : 0,\n          note: this.note ? this.note : null\n        }).then(res => {\n          if (res.state == 1) {\n            this.addflag = false;\n            this.getdata();\n            this.$Message.success(res.msg);\n          } else {\n            this.$Message.error(res.msg);\n          }\n        });\n      } else {\n        this.$Message.error(\"添加失败\");\n      }\n    },\n    editPlatform() {\n      if (this.platform.length > 0 && this.name.length > 0) {\n        editplatform({\n          id: this.id,\n          platform: this.platform,\n          name: this.name,\n          sort: this.sort ? this.sort : 0,\n          note: this.note ? this.note : null\n        }).then(res => {\n          if (res.state == 1) {\n            this.editflag = false;\n            this.getdata();\n            this.$Message.success(res.msg);\n          } else {\n            this.$Message.error(res.msg);\n          }\n        });\n      } else {\n        this.$Message.error(\"修改失败\");\n      }\n    }\n  }\n};\n</script>\n\n<style scoped>\n.recommend {\n  width: 100%;\n  height: 100%;\n  padding: 10px 20px;\n}\n.addgame {\n  text-align: center;\n  margin-top: 10px;\n}\n.upload_image {\n  position: absolute;\n  top: 0;\n  transform: translate(-50%, 0);\n  height: 100%;\n}\n.addbtn {\n  margin-bottom: 10px;\n}\n/* CFBundleDisplayName=\"Legend Never Dies\";\nCFBundleDisplayName=\"伝説は死なない\";\nCFBundleDisplayName=\"Legende stirbt nie\"; 德\nCFBundleDisplayName=\"La légende ne meurt jamais\"; 法 */\n</style>\n\n\n"],"sourceRoot":"src/views/Manage"}]}