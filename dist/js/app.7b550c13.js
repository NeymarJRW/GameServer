(function(t){function e(e){for(var i,l,r=e[0],o=e[1],d=e[2],p=0,u=[];p<r.length;p++)l=r[p],n[l]&&u.push(n[l][0]),n[l]=0;for(i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i]);c&&c(e);while(u.length)u.shift()();return s.push.apply(s,d||[]),a()}function a(){for(var t,e=0;e<s.length;e++){for(var a=s[e],i=!0,r=1;r<a.length;r++){var o=a[r];0!==n[o]&&(i=!1)}i&&(s.splice(e--,1),t=l(l.s=a[0]))}return t}var i={},n={app:0},s=[];function l(e){if(i[e])return i[e].exports;var a=i[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,l),a.l=!0,a.exports}l.m=t,l.c=i,l.d=function(t,e,a){l.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},l.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},l.t=function(t,e){if(1&e&&(t=l(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(l.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)l.d(a,i,function(e){return t[e]}.bind(null,i));return a},l.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return l.d(e,"a",e),e},l.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},l.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],o=r.push.bind(r);r.push=e,r=r.slice();for(var d=0;d<r.length;d++)e(r[d]);var c=o;s.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"034f":function(t,e,a){"use strict";var i=a("64a9"),n=a.n(i);n.a},"0423":function(t,e,a){},"0e09":function(t,e,a){},1763:function(t,e,a){"use strict";var i=a("c2ce"),n=a.n(i);n.a},"17cc":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKQAAACkCAYAAAAZtYVBAAAL9klEQVR4Xu2df4wdVRXHz5m322Iwa9xqU6UFSthSY7f79t1rKoraItWgBvnLP8BqY6yQiJUiCSlo/AWmwUApP9SWfxSCiSRWBTGGEGubWqm5d7avLlJdmlpbIG1KwzaC3e2+d8yEXTBru+/et/Pm3Zn3nX/33Hu+53s+O29mMnMvEw44EJADHJAWSIEDBCABQVAOAMig2gExABIMBOUAgAyqHRADIMFAUA4AyKDaATEAEgwE5QCADKodEOMFZLVavezMmTNfJ6KlzBylYZ+I1Jn5hSiKfjQ4OLiv2Tmr1eqyiYmJm0RkSdramPmhSqVSbVabMaafmRNtfWlqI6IDRPRjrfVfm9UWx/GAiHxVRC5NW1t3d/eWgYGBv/tocwZyaGjoA7VabRczn+eTwDVWRM5EUbS6UqnsdB0zFWeMWcHMybi5vmMd48dE5Cqt9W7H+DfD4ji+XER2tFJbFEVXDg4O7vHVZoy5gpmfaZU2ETnNzKuUUs+6anMG0hizg5lXuk7cZJxVSmnfsdbaXUT0Ed9xPvEi8het9QqfMUmstfZPRPQh33Ge8X9WSnnnMMY8y8zeNfloE5HdWmvn3vgAOcrMPT5ifGNFZEJr3e07zhjzCjP3+o7zjH9NKfV2zzFkjHmVmd/hO84nXkROaa29c1hr/01E5/vk8o0Vkde11s45nIG01o4R0RxfQZ7xIZ8h92qtP+hZD86QIjWtdZerbyEBOc7Mn2j2GpKI/tiq61siGheRjwd6DTkeRdGqEK8hEwglayBF5F/MfMj1P2B6XHKXTUQHoyh6cDZ3sskTgImJiQ2tuMsmogeVUvubrXHfvn3vr9Vq69O+y06eThDRZqXU881qm3wC8LUU7rIvJqKLztLfbM+QIrJJa72xWUMwrhgOGGO+z8zfBJDF6GfuqwCQuW9hsQoAkMXqZ+6rAZC5b2GxCgCQxepn7qsBkLlvYbEKAJDF6mfuqwGQuW9hsQoAkMXqZ+6rAZC5b2GxCgCQxepn7qsBkLlvYbEKAJDF6mfuqwGQuW9hsQoAkMXqZ+6ryRxIY8xBZr7kLM7dpJR6KPeOooBZOWCtvYGIfnKWSQ4rpZKXd50On08Y7iKi26fN+tqcOXPe19/ff8QpG4IK60C1Wl04MTGRfCc+/YOuu5VSt7kW7gzk8PDwnLGxsa1EtDaZXEReIaLrtNZPuyZDXLEdsNZeKSK/YOZ3TVb6aE9Pz7q+vr7kA0GnwxnIqdmq1ep8Ebmgq6vruWXLlo07ZUFQxziQnLhOnz69rLu7++jAwMBx38K9gfRNgHg44OMAgPRxC7EtdwBAttxiJPBxAED6uIXYljsAIFtuMRL4OAAgfdxCbMsdAJAttxgJfBwAkD5uIbblDgDIlluMBD4OAEgftxDbcgcAZMstRgIfBwCkj1uIbbkDXkBObQvCzAtFZJdS6j5mnmi5ygATDA0NlUUkebulPPnKVSwie5RSyUq+EqDklksSkVIcx+uJaJWIHG3HtiDPKKVWt7zSgBJMvs2ynZk/fTZZIvIcEa3WWr8ckOxMpBhjnmLmT00la8u2IMz82Uql8kQmFbc5ycjIyNzR0dEnkrXQG0gZKZVKq8rl8ottlpxZ+jiOrxaR301P2I5tQb6rlPpOZpW3MVEcxz8QEaflq0Xkaa31J9soN9PU1to7iOjOswCZ7bYgnbLGeHJ9ZK1N9sNx3g+mq6trqe/WaplSlGKyzD/yOtc+NZ0CpLU22Y0q2THM59iQ3Pj5DMhrLIDMuHNxHK8RkUc8025RSt3sOSaX4QAy47ZZa79CRMlHbj7HNqVU8nlo4Q8AmXGLAeTMhgNIAJmxAwAyKMNxhgSQADIoBwBkUO3AGRJAAsigHACQQbUDZ0gACSCDcgBABtUOnCEBJIAMygEAGVQ7cIYEkAAyKAcAZFDtwBkSQALIoBwAkEG1A2fIwIDs9G1BAOTMQGJbkIzPnwByZsOxLQiAzNiBxumwLchZPJpaUaJerw8Q0YXM7LU6x7lsF5H3MPOSxm15K0JEXmbmf/iMaRB7gojiKIr2lMvlnSGukIFtQSY7OGnE48nCBSkCEOxURV0hI5WzR7u75rGiRLulpppfRA7MnTt3ZX9//7FUJ27jZIUA0lqbrJiQrJzQicfvlVJXF6Xw3APZzIoSRWneVB2lUumycrmc5rVq2yzKPZBDQ0Mfrtfru9vmYACJReRmrfWWAKTMWkLugTTGXMfMj83aiXxPsFkpdUu+S3hDfe6BjOP4GhH5TRGa0WwNzPy9SqXy7WbHhzQu90AaY5Lngy+FZGobtFyjlHqyDXlTT5l7IBNHjDE7mHll6u7kYEIROTFv3rxFixcvPp0DuQ0lFgLI5MamVqslUHY3rLh4ATcopbYVpaxCAJk0I47jq0TkKSKaU5TmNKqDmddXKpUHGsXl6e+FAXLyp3sFM98hIh9j5p48NcJV6+RC8nuJ6H6l1HbXcXmJ8wIyT9uCVKvVxbVaLbWXK2q12meY+RuejX0yiqJ7PcecMzyKohPLly9/nplrac2Z5jzYFiRNNxvMhfchG5uNbUEae5RaBICc2UpsC5Iaam4TAciZfcK2IG4cpRYFIGe2Eks6p4aa20QAEkC6kZJRFIAEkBmh5pYGQAJIN1IyigKQADIj1NzSAEgA6UZKRlEAEkBmhJpbGgAJIN1IySgKQALIjFBzSwMgAaQbKRlFAUgAmRFqbmkAJIB0IyWjKAAJIDNCzS0NgASQbqRkFAUgAWRGqLmlsdauIyLfr/u2KqVudMuQ7yi8fpZx/4wx1zLzr3zSisidWutv+YzJayyAzLhzzayQEUXRtYODgx2xzAuAzBjIJJ21dicRfdQltYiMzps3b0FRVpRoVHPmQHb6tiBJQ4wxVxDRHxxXyLhRKbW1USOL8ndsC9KmTg4NDa2u1+u/nWmFDBG5VWt9T5sktiUttgVpi+1vJI3j+HIR2ThthYwxItrLzPdXKpVftlFe21JjW5C2Wf9W4v37918yPj5+vlLqb6GuKJGlTdgWJEu3kavlDnit7dNyNUjQ8Q4AyI5HICwDAGRY/eh4NQCy4xEIywAAGVY/Ol4NgOx4BMIyAECG1Y+OVwMgOx6BsAwAkGH1o+PVAMiORyAsAwBkWP3oeDVeQOZpW5CO72wbDMC2IG0wHSnP7QC2BQEdwTiAbUGCaQWEJA5gWxBwEJQDmX/kZa1NXtH/v51WRWST1npjUO5ATOYOAMjMLUfCmRwAkOAjKAcAZFDtgBgACQaCcgBABtUOiAGQYCAoBwBkUO2AGAAJBoJyAEAG1Q6IAZBgICgHAGRQ7YAYAAkGgnIAQAbVDogJCcifl0qlh5ttiYjUieiFSqXyUrNzTI0bHh5eMD4+voSZo9nOlYxPU1uyaH4URX1paiuVSgcGBgaOz7bWOI7fS0SXzkZbvV7/EhGtma5FRGpa6y5Xjc7f1Jzr9TPXRI3iROTXRHS91vr1RrHT/z4yMjL31KlTjxDR53zHOsY/Pn/+/LWLFi36j2P8m2GHDh067+TJkz9rpbbe3t4vNrO4/pEjR952/Pjxn7ZQW/JPnU8gJ89ID2it1/s23RiziZlv8x3nGb9ZKXWL55jkTeofEtGtvuN84kXkHq21dw5r7b1EtMEnl29sroEkoleVUu/0LdoYc5iZL/Qd5xMvIse01gt8xiSx1tqjRHSB7zifeBE5qrVe5DNmUtsxIprvO84nvmVAzrAtiI++GWNF5ITW+t2+E1pr/0lEF/mO84lvVpsx5ggzL/TJ5RsbMpBEdFgpdbFrTT7XkHcR0e2uEzcTJyIh/2Tfp5Ty/nnr9J9sIrpbKeV8OeUMZLK6/tjYWLIR0NpmYHMYs11E1jR7UzM6OrqNmb/gkKeZkO29vb3XN3PjMHlTkzyF+HwziR3GPNbb2/vlWWhr5Q3Xoz09Pev6+vqS77GcDmcgp2arVqvza7Xa0tk8IvhfZcmjlSiKDpbL5RedFM8Q1GmPfdJ6XJbGY5/pPW32kZQ3kLOFBuPhwEwOAEjwEZQDADKodkAMgAQDQTkAIINqB8QASDAQlAMAMqh2QAyABANBOQAgg2oHxABIMBCUA/8FM57GLN5IhwwAAAAASUVORK5CYII="},"1db0":function(t,e,a){"use strict";var i=a("59e8"),n=a.n(i);n.a},"23af":function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("7f7f"),a("cadf"),a("551c"),a("097d");var i=a("2b0e"),n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("router-view")},s=[],l=(a("4917"),navigator.userAgent.toLowerCase()),r="iphone"==l.match(/iPhone/i),o="micromessenger"==l.match(/MicroMessenger/i),d="mqqbrowser"==l.match(/mqqbrowser/i);var c={data:function(){return{}},watch:{},mounted:function(){},methods:{}},p=c,u=(a("034f"),a("2877")),m=Object(u["a"])(p,n,s,!1,null,null,null);m.options.__file="App.vue";var g=m.exports,f=a("8c4f"),h=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("div",{staticClass:"top"},[a("p",[t._v("cicigirl后台")]),a("ul",[a("li",[t._v("欢迎你:"+t._s(t.loginName))]),a("li",{on:{click:function(e){t.password=!0}}},[t._v("修改密码")]),a("li",{on:{click:t.loginout}},[t._v("退出登录")]),a("li",[a("Button",{staticStyle:{width:"100px"},attrs:{type:"primary"},on:{click:function(e){t.clear=!0,t.clear_value=[]}}},[t._v("清空缓存")])],1)])]),a("Modal",{staticStyle:{width:"400px"},attrs:{width:"480",height:"600"},model:{value:t.clear,callback:function(e){t.clear=e},expression:"clear"}},[a("p",{staticStyle:{color:"#2d8cf0","text-align":"center"},attrs:{slot:"header"},slot:"header"},[a("span",[t._v("清空客服端缓存")])]),a("Select",{model:{value:t.clear_value,callback:function(e){t.clear_value=e},expression:"clear_value"}},t._l(t.clearcon,function(e,i){return a("Option",{key:i,attrs:{value:e.value}},[t._v(t._s(e.content))])})),a("div",{attrs:{slot:"footer"},slot:"footer"},[0!==t.clear_value.length?a("Button",{ref:"btn_edit",staticClass:"btn_edit",staticStyle:{display:"block"},attrs:{type:"primary",size:"large",long:"",loading:t.modal_loading},on:{click:t.clearbtn}},[t._v("确认")]):t._e()],1)],1),a("Modal",{attrs:{"footer-hide":""},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}},[a("Card",[a("div",{staticClass:"change"},[a("span",[a("i",{staticStyle:{color:"red"}},[t._v("*")]),t._v(" 旧密码:\n        ")]),a("i-input",{staticClass:"inp",attrs:{type:"password",icon:"ios-clock-outline",placeholder:"请输入..."},nativeOn:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.changePassword(e):null}},model:{value:t.oldWord,callback:function(e){t.oldWord=e},expression:"oldWord"}}),a("span",[a("i",{staticStyle:{color:"red"}},[t._v("*")]),t._v(" 新密码:\n        ")]),a("i-input",{staticClass:"inp",attrs:{type:"password",icon:"ios-clock-outline",placeholder:"请输入..."},nativeOn:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.changePassword(e):null}},model:{value:t.newWord,callback:function(e){t.newWord=e},expression:"newWord"}}),a("span",[a("i",{staticStyle:{color:"red"}},[t._v("*")]),t._v(" 确认密码:\n        ")]),a("i-input",{staticClass:"inp",attrs:{type:"password",icon:"ios-clock-outline",placeholder:"请输入..."},nativeOn:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.changePassword(e):null}},model:{value:t.sureWord,callback:function(e){t.sureWord=e},expression:"sureWord"}}),a("i-button",{staticClass:"btn",staticStyle:{width:"21%"},attrs:{type:"primary"},on:{click:t.changePassword}},[t._v("修改")]),a("i-button",{staticClass:"btn",staticStyle:{width:"21%"},on:{click:function(e){t.oldWord="",t.newWord="",t.sureWord=""}}},[t._v("重置")])],1)])],1),t.isPc?a("Menu",{staticClass:"menu",attrs:{theme:"dark",accordion:"","open-names":["1"]},on:{"on-select":t.route}},[a("Submenu",{attrs:{name:"1"}},[a("template",{slot:"title"},[a("i",{staticClass:"fas fa-tasks"}),t._v("\n        游戏管理\n      ")]),t._l(t.tasks,function(e){return a("MenuItem",{key:e.title,attrs:{name:e.path}},[a("i",{class:e.icon}),t._v("\n        "+t._s(e.title)+"\n      ")])})],2),a("Submenu",{attrs:{name:"2"}},[a("template",{slot:"title"},[a("i",{staticClass:"fas fa-tasks"}),t._v("\n        推荐管理\n      ")]),t._l(t.recoms,function(e){return a("MenuItem",{key:e.title,attrs:{name:e.path}},[a("i",{class:e.icon}),t._v("\n        "+t._s(e.title)+"\n      ")])})],2)],1):t._e(),a("main",{ref:"main",staticClass:"main",staticStyle:{background:"#f0f2f5"}},[a("router-view")],1)],1)},v=[],y=a("ade3"),_=a("4328"),b=a.n(_),x=a("bc3a"),w=a.n(x);w.a.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded";var S="https://www.cicigirl.com/Admin/",k="https://www.cicigirl.com/Admin/Game/add",I="https://www.cicigirl.com/Admin/Game/update",C="https://www.cicigirl.com/Admin/Class/add",M="https://www.cicigirl.com/Admin/Class/update",E="https://www.cicigirl.com/",A=S,z=function(t,e){var a={method:t.method||"get",url:t.url,baseURL:S,params:e,data:b.a.stringify(e),withCredentials:!0};return"post"===t.method?delete a.params:delete a.data,new Promise(function(t,e){w()(a).then(function(e){t(e.data)}).catch(function(t){e(t)})})},O=function(t){return z({url:"Class/index"})},N=C,U=function(t){return z({method:"post",url:"Class/delete"},t)},T=M,D=function(t){return z({url:"Label/index"})},j=function(t){return z({method:"post",url:"Label/delete"},t)},R=function(t){return z({url:"Game/index"})},B=function(t){return z({url:"Game/handleIndex"},t)},q=function(t){return z({method:"post",url:"Game/handleGame"},t)},L=function(t){return z({method:"post",url:"Game/getTab"},t)},$=function(t){return z({method:"post",url:"Game/delete"},t)},G=function(t){return z({method:"post",url:"Login/login"},t)},P=function(t){return z({method:"post",url:"Index/pass"},t)},W=function(t){return z({url:"Login/judgeLogin"})},Q=function(t){return z({url:"Index/loginOut"})},F=function(t){return z({method:"post",url:"Game/catName"},t)},J=function(t,e){t.addEventListener("focus",e)},Z=function(t,e){t.addEventListener("blur",e)},V=function(t){return z({method:"post",url:"Index/dbClear"},t)},K=function(t){return z({url:"Recommend/game_list"})},X=function(t){return z({url:"Recommend/platform_list"})},H=function(t){return z({method:"post",url:"Recommend/platform_add"},t)},Y=function(t){return z({method:"post",url:"Recommend/platform_update"},t)},tt=function(t){return z({url:"Recommend/recommend_list"})},et=function(t){return z({method:"post",url:"Recommend/recommend_add"},t)},at=function(t){return z({method:"post",url:"Recommend/recommend_update"},t)},it=function(t){return z({method:"post",url:"Recommend/recommend_delete"},t)},nt="https://cicigirl.833223.com/",st=S+"Label/update",lt=S+"Label/add",rt=S+"Game/uploadZip",ot=S+"Login/verify",dt=k,ct=I,pt=S+"Recommend/game_add",ut=S+"Recommend/game_update",mt=S+"Recommend/upload_qrcode",gt=E,ft=a("5118"),ht=Object(y["a"])({data:function(){return{oldWord:"",newWord:"",sureWord:"",clear:!1,modal_loading:!1,clear_value:[],clearcon:[{value:"index",content:"首页缓存"},{value:"recommend",content:"游戏推荐"},{value:"news",content:"最新界面"},{value:"hot",content:"最热界面"},{value:"class",content:"分类推荐"},{value:"label",content:"标签推荐"},{value:"all",content:"全部缓存"}],loginName:"",tasks:[{title:"分类管理",icon:"fas fa-shopping-bag",path:"/marilyn"},{title:"标签管理",icon:"fas fa-shopping-bag",path:"/tag"},{title:"游戏管理",icon:"fas fa-shopping-bag",path:"/games"},{title:"待处理游戏",icon:"fas fa-shopping-bag",path:"/Pending"}],recoms:[{title:"游戏列表",icon:"fas fa-shopping-bag",path:"/recomGame"},{title:"平台管理",icon:"fas fa-shopping-bag",path:"/recomPlatform"},{title:"推荐列表",icon:"fas fa-shopping-bag",path:"/recomRecommend"}],isPc:!0,password:!1}},mounted:function(){},methods:{clearbtn:function(){var t=this;V({key:this.clear_value}).then(function(e){t.newWord&&alert("4444"),1==e.state?t.$message({message:e.msg,type:"success"}):t.$message.error(e.msg)}),this.clear=!1},route:function(t){this.$router.push({path:t})},loginout:function(){var t=this;Q().then(function(e){t.$router.push({name:"login"})})},changePassword:function(){var t=this,e={password:this.oldWord,passwordNew:this.newWord};this.oldWord&&this.newWord&&this.sureWord?this.newWord!==this.sureWord?this.$message.error("两次新密码输入不同"):this.oldWord==this.newWord?this.$message.error("新密码不能与旧密码相同"):P(e).then(function(e){0==e.state?t.$message.error(e.msg):t.$message.success("修改成功")}):this.$message.error("不能为空")}}},"mounted",function(){this.loginName=localStorage.getItem("loginName")}),vt=ht,yt=(a("cccb"),a("afc6"),Object(u["a"])(vt,h,v,!1,null,null,null));yt.options.__file="Home.vue";var _t=yt.exports,bt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container"},[t.spinShow?i("Spin",{attrs:{size:"large",fix:""}}):t._e(),i("div",{staticClass:"marilyn_tab"},[i("Card",{staticClass:"marilyn_card marilyn_upload"},[i("div",{staticClass:"add_game_view",on:{click:function(e){t.addCard=!0}}},[i("img",{staticStyle:{height:"150px",width:"150px"},attrs:{src:a("17cc")}}),i("span",{staticStyle:{display:"block","text-align":"center"}},[t._v("添加分类")])])]),t._l(t.datalist,function(e){return i("Card",{staticClass:"marilyn_card"},[i("div",{staticStyle:{"text-align":"center"}},[i("img",{staticClass:"marilyn_img",attrs:{src:t.gameImgurl+e.image}}),i("h3",{staticClass:"marilyn_name"},[t._v(t._s(e.name))]),i("p",{staticClass:"marilyn_num"},[t._v("英文名: "+t._s(e.alias))]),i("p",{staticClass:"marilyn_num"},[t._v("游戏数量: "+t._s(e.num))]),i("p",{staticClass:"marilyn_num"},[t._v("排序: "+t._s(e.order))])]),i("div",{staticClass:"marilyn_tools"},[i("i",{staticClass:"fas fa-trash-alt",staticStyle:{cursor:"pointer",color:"#ed4014"},on:{click:function(a){t.currentDelete=e.id,t.deleteModel=!t.deleteModel}}}),i("i",{staticClass:"far fa-edit",staticStyle:{cursor:"pointer"},on:{click:function(a){t.updateImage=e.image,t.updateId=e.id,t.updateName=e.name,t.updateEnName=e.alias,t.updateOrder=e.order,t.editModel=!t.editModel}}})])])})],2),i("Modal",{attrs:{width:"360","footer-hide":""},model:{value:t.addCard,callback:function(e){t.addCard=e},expression:"addCard"}},[i("div",{staticClass:"marilyn_up_card",staticStyle:{"text-align":"center"}},[i("Upload",{attrs:{multiple:"",type:"drag",action:t.gameUpload,name:"file","on-success":t.uploadSuccess,"show-upload-list":!1,format:["jpg","jpeg","png","gif"],"before-upload":t.handleUpload}},[i("div",{staticStyle:{padding:"20px 0"}},[i("Icon",{staticStyle:{color:"#3399ff"},attrs:{type:"ios-cloud-upload",size:"52"}}),i("p",[t._v("单击或拖动图片到此处上传")])],1),i("img",{staticClass:"upload_image",attrs:{src:t.marilynimg,alt:""}})])],1),i("div",{staticClass:"marilyn_margin",staticStyle:{"text-align":"center"}},[i("Input",{staticClass:"judgename_add",staticStyle:{width:"auto"},attrs:{prefix:"ios-game-controller-b",placeholder:"中文分类名字 ..."},model:{value:t.marilynName,callback:function(e){t.marilynName=e},expression:"marilynName"}})],1),i("div",{staticClass:"marilyn_margin",staticStyle:{"text-align":"center"}},[i("Input",{staticStyle:{width:"auto"},attrs:{prefix:"ios-game-controller-b-outline",placeholder:"英文分类名字 ..."},model:{value:t.marilynEnName,callback:function(e){t.marilynEnName=e},expression:"marilynEnName"}})],1),i("div",{staticClass:"marilyn_margin",staticStyle:{"text-align":"center"}},[i("Input",{staticStyle:{width:"auto"},attrs:{placeholder:"排序序号 ..."},model:{value:t.marilynOrder,callback:function(e){t.marilynOrder=e},expression:"marilynOrder"}},[i("Icon",{attrs:{slot:"prefix",type:"logo-buffer"},slot:"prefix"})],1),i("p",{staticStyle:{"font-size":"12px",color:"#b3b3b3"}},[t._v("*0默认，正整数从大到小排序")])],1),i("Button",{directives:[{name:"show",rawName:"v-show",value:t.btnAdd,expression:"btnAdd"}],ref:"btn_add",staticClass:"marilyn_margin",attrs:{type:"primary",long:""},on:{click:t.addClass}},[t._v("添加")]),i("Button",{directives:[{name:"show",rawName:"v-show",value:!t.btnAdd,expression:"!btnAdd"}],ref:"btn_add",staticClass:"marilyn_margin",attrs:{disabled:"",type:"primary",long:""},on:{click:t.addClass}},[t._v("添加")])],1),i("Modal",{attrs:{width:"360"},model:{value:t.deleteModel,callback:function(e){t.deleteModel=e},expression:"deleteModel"}},[i("p",{staticStyle:{color:"#f60","text-align":"center"},attrs:{slot:"header"},slot:"header"},[i("Icon",{attrs:{type:"ios-information-circle"}}),i("span",[t._v("删除确认")])],1),i("div",{staticStyle:{"text-align":"center"}},[i("p",[t._v("是否继续删除？")])]),i("div",{attrs:{slot:"footer"},slot:"footer"},[i("Button",{attrs:{type:"error",size:"large",long:"",loading:t.modal_loading},on:{click:t.toolDelete}},[t._v("删除")])],1)]),i("Modal",{attrs:{width:"360"},model:{value:t.editModel,callback:function(e){t.editModel=e},expression:"editModel"}},[i("p",{staticStyle:{color:"#2d8cf0","text-align":"center"},attrs:{slot:"header"},slot:"header"},[i("span",[t._v("修改")])]),i("div",{staticStyle:{"text-align":"center"}},[i("div",{staticStyle:{position:"relative",height:"164px",width:"100%"}},[i("input",{staticClass:"inputfile",attrs:{type:"file",name:"file",id:"fileImg"},on:{change:t.modifyUpload}}),i("img",{staticClass:"curtimg",attrs:{src:t.gameImgurl+t.updateImage,alt:""}})]),i("div",[t._v("\n        中文名字 :\n        "),i("Input",{staticClass:"judgename_edit",staticStyle:{width:"auto",margin:"10px 0"},attrs:{prefix:"logo-buffer",placeholder:"分类名字 ..."},model:{value:t.updateName,callback:function(e){t.updateName=e},expression:"updateName"}})],1),i("div",[t._v("\n        英文名字 :\n        "),i("Input",{staticStyle:{width:"auto",margin:"10px 0"},attrs:{prefix:"logo-buffer",placeholder:"分类名字 ..."},model:{value:t.updateEnName,callback:function(e){t.updateEnName=e},expression:"updateEnName"}})],1),i("div",[t._v("\n        排       序 :\n        "),i("Input",{staticStyle:{width:"auto",margin:"10px 0"},attrs:{placeholder:"排序序号 ..."},model:{value:t.updateOrder,callback:function(e){t.updateOrder=e},expression:"updateOrder"}},[i("Icon",{attrs:{slot:"prefix",type:"logo-buffer"},slot:"prefix"})],1),i("p",{staticStyle:{"font-size":"12px",color:"#b3b3b3","padding-left":"30px"}},[t._v("*0默认，正整数从大到小排序")])],1)]),i("div",{attrs:{slot:"footer"},slot:"footer"},[i("Button",{directives:[{name:"show",rawName:"v-show",value:t.btnEdit,expression:"btnEdit"}],ref:"btn_edit",attrs:{type:"primary",size:"large",long:"",loading:t.modal_loading},on:{click:t.toolEdit}},[t._v("确认")]),i("Button",{directives:[{name:"show",rawName:"v-show",value:!t.btnEdit,expression:"!btnEdit"}],ref:"btn_edit",attrs:{disabled:"",type:"primary",size:"large",long:"",loading:t.modal_loading},on:{click:t.toolEdit}},[t._v("确认")])],1)])],1)},xt=[],wt={data:function(){return{btnAdd:!0,btnEdit:!0,datalist:[],marilynName:"",marilynEnName:"",marilynOrder:"",addCard:!1,deleteModel:!1,modal_loading:!1,currentDelete:"",editState:!1,editModel:!1,updateName:"",updateEnName:"",updateOrder:"",updateId:"",spinShow:!0,gameUpload:"",marilynimg:"",updateImage:"",gameImgurl:""}},mounted:function(){var t=this,e=document.querySelector(".judgename_add").querySelector("input"),a=document.querySelector(".judgename_edit").querySelector("input");J(e,function(){e.style.border="1px solid #2d8cf0",t.btnAdd=!0}),Z(e,function(){F({name:t.marilynName,type:"class"}).then(function(a){0==a.state&&t.addCard&&(t.btnAdd=!1,t.$Message.error("名字为空或该名字已存在"),e.style.border="1px solid red",Object(ft["setTimeout"])(function(){e.style.border="1px solid #dcdee2"},2e3))})}),J(a,function(){a.style.border="1px solid #2d8cf0",t.btnEdit=!0}),Z(a,function(){F({name:t.updateName,type:"class",id:t.updateId}).then(function(e){0==e.state&&t.editModel&&(t.btnEdit=!1,t.$Message.error("名字为空或该名字已存在"),a.style.border="1px solid red",Object(ft["setTimeout"])(function(){a.style.border="1px solid #dcdee2"},2e3))})}),this.gameImgurl=nt,this.getData()},watch:{$route:function(t,e){},addCard:function(t){this.btnAdd=!0},editModel:function(t){this.btnEdit=!0}},methods:{getData:function(){var t=this;this.spinShow=!0,O().then(function(e){"1"===e.state&&(t.datalist=e.msg,t.spinShow=!1)})},uploadSuccess:function(t,e){},addClass:function(){var t=this;if(0!==this.marilynName.trim().length){var e=new FormData;e.append("file",this.file),e.append("name",this.marilynName),e.append("alias",this.marilynEnName),e.append("order",this.marilynOrder||this.datalist.length+1);var a={method:"post",body:e};fetch(N,a).then(function(t){return t.json()}).then(function(e){"1"===e.state?(t.$Message.success(e.msg),t.getData(),t.marilynName="",t.marilynEnName="",t.marilynOrder="",t.addCard=!1):t.$Message.error(e.msg)})}else this.$Message.error("分类名称不要为空噢")},toolDelete:function(){var t=this;this.modal_loading=!0,U({id:this.currentDelete}).then(function(e){t.modal_loading=!1,"1"===e.state?(t.deleteModel=!1,t.$Message.success(e.msg),t.getData()):t.$Message.error(e.msg)})},toolEdit:function(){var t=this;this.modal_loading=!0;var e=new FormData;this.currentImg&&e.append("file",this.currentImg),e.append("id",this.updateId),e.append("name",this.updateName),e.append("alias",this.updateEnName),e.append("order",this.updateOrder);var a={method:"post",body:e};fetch(T,a).then(function(t){return t.json()}).then(function(e){t.modal_loading=!1,"1"===e.state?(t.$Message.success(e.msg),t.updateId="",t.updateName="",t.updateEnName="",t.updateOrder="",t.getData(),t.editModel=!1):t.$Message.error(e.msg)})},handleUpload:function(t){var e=this,a=new FileReader;new Image;a.readAsDataURL(t),a.onload=function(t){e.marilynimg=t.target.result},this.file=t},modifyUpload:function(t){this.currentImg=t.currentTarget.files[0];var e=new FileReader;new Image;e.readAsDataURL(this.currentImg),e.onload=function(t){document.querySelector(".curtimg").src=t.target.result}}}},St=wt,kt=(a("1db0"),Object(u["a"])(St,bt,xt,!1,null,"47ac7b3c",null));kt.options.__file="Marilyn.vue";var It=kt.exports,Ct=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[t.spinShow?a("Spin",{attrs:{size:"large",fix:""}}):t._e(),a("Button",{staticStyle:{"margin-left":"20px"},attrs:{type:"primary"},on:{click:t.allgame}},[t._v("全部待处理")]),a("Dropdown",{staticStyle:{"margin-left":"20px"}},[a("Button",{staticStyle:{width:"100px"},attrs:{type:"primary"}},[t._v("\n      "+t._s(t.showtype.length>0?t.showtype:"选择分类")+"\n      "),a("Icon",{attrs:{type:"ios-arrow-down"}})],1),a("DropdownMenu",{staticClass:"xialai",attrs:{slot:"list"},slot:"list"},t._l(t.gametype,function(e){return a("DropdownItem",[a("span",{on:{click:function(a){t.selecttype(e)}}},[t._v(t._s(e))])])}))],1),a("Dropdown",{staticStyle:{"margin-left":"20px"}},[a("Button",{staticStyle:{width:"100px"},attrs:{type:"primary"}},[t._v("\n      "+t._s(t.showtip.length>0?t.showtip:"选择标签")+"\n      "),a("Icon",{attrs:{type:"ios-arrow-down"}})],1),a("DropdownMenu",{staticClass:"xialai",attrs:{slot:"list"},slot:"list"},t._l(t.gametip,function(e){return a("DropdownItem",[a("span",{on:{click:function(a){t.selecttip(e)}}},[t._v(t._s(e))])])}))],1),a("Dropdown",{staticStyle:{"margin-left":"20px"}},[a("Button",{staticStyle:{width:"100px"},attrs:{type:"primary"}},[t._v("\n      "+t._s(t.showpingtai.length>0?t.showpingtai:"选择平台")+"\n      "),a("Icon",{attrs:{type:"ios-arrow-down"}})],1),a("DropdownMenu",{staticClass:"xialai",attrs:{slot:"list"},slot:"list"},t._l(t.pigntaitip,function(e){return a("DropdownItem",[a("span",{on:{click:function(a){t.selectpigntai(e)}}},[t._v(t._s(e))])])}))],1),a("Input",{staticClass:"sousuo",attrs:{search:"","enter-button":"",placeholder:"按游戏名搜索"},on:{"on-search":t.search},model:{value:t.searchvalue,callback:function(e){t.searchvalue=e},expression:"searchvalue"}}),a("div",{ref:"marilyn_tab",staticClass:"marilyn_tab",attrs:{id:"totop"}},t._l(t.datalist,function(e){return a("Card",{staticClass:"marilyn_card"},[a("div",{staticStyle:{"text-align":"center"}},[a("img",{staticClass:"marilyn_img",attrs:{src:t.gameImgurl+e.image}}),a("p",{staticClass:"marilyn_des"},[t._v("中文名称 : "+t._s(e.name))]),a("p",{staticClass:"marilyn_des"},[t._v("英文名称 : "+t._s(e.alias))]),a("p",{staticClass:"marilyn_des"},[t._v("\n          游戏地址 :\n          "),a("a",{attrs:{target:"_Blank",href:"0"==e.type?t.gameImgurl+e.url:e.url}},[t._v(t._s(e.url))])]),a("p",{staticClass:"marilyn_des"},[t._v("创建时间 : "+t._s(e.time))]),a("p",{staticClass:"marilyn_des"},[t._v("所属分类: "+t._s(e.class.name))]),a("p",{staticClass:"marilyn_des"},[t._v("\n          所属标签 :\n          "),t._l(e.label,function(e){return[t._v(t._s(e.name)+",")]})],2),a("p",{staticClass:"marilyn_des"},[t._v("游戏平台 : "+t._s((1==e.android?"安卓,":"")+(1==e.ios?"ios,":"")+(1==e.wechat?"小程序":"")))]),a("p",{staticClass:"marilyn_des"},[t._v("游戏类型 : "+t._s(e.type?0==e.type?"游戏":1==e.type?"ios":"android":"未定义"))]),a("p",{staticClass:"marilyn_des"},[t._v("\n          屏幕方向 :\n          "),0==e.screen?[t._v("竖屏")]:[t._v("横屏")]],2),a("p",{staticClass:"marilyn_des"},[t._v("\n          是否推荐 :\n          "),0==e.recommend?[t._v("不推荐")]:[t._v("推荐")]],2),a("p",{staticClass:"marilyn_des",staticStyle:{color:"red"}},[t._v("\n          标记问题类型:\n          "),a("br"),t._l(e.tab,function(e){return[t._v("\n                "+t._s(e.content)+",\n            "),a("br")]})],2),a("p",{staticClass:"marilyn_des"},[t._v("游戏权重 : "+t._s(e.weight))]),a("Button",{staticStyle:{width:"100px"},attrs:{type:"primary"},on:{click:function(a){t.markGame(e),t.dialogTableVisible=!0}}},[t._v("再次标记")])],1),a("div",{staticClass:"marilyn_tools"},[a("i",{staticClass:"fas fa-trash-alt",staticStyle:{cursor:"pointer",color:"#ed4014"},on:{click:function(a){t.currentDelete=e.id,t.deleteModel=!t.deleteModel}}}),a("i",{staticClass:"far fa-edit",staticStyle:{cursor:"pointer"},on:{click:function(a){t.editEvent(e)}}})])])})),a("Modal",{staticStyle:{width:"400px"},attrs:{width:"480",height:"600"},model:{value:t.dialogTableVisible,callback:function(e){t.dialogTableVisible=e},expression:"dialogTableVisible"}},[a("p",{staticStyle:{color:"#2d8cf0","text-align":"center"},attrs:{slot:"header"},slot:"header"},[a("span",[t._v("选择游戏问题类型")])]),a("Select",{attrs:{multiple:""},model:{value:t.problemreason_value,callback:function(e){t.problemreason_value=e},expression:"problemreason_value"}},t._l(t.problemreason,function(e,i){return a("Option",{key:i,attrs:{value:e.id}},[t._v(t._s(e.content))])})),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{directives:[{name:"show",rawName:"v-show",value:t.btnEdit,expression:"btnEdit"}],ref:"btn_edit",staticClass:"btn_edit",attrs:{type:"primary",size:"large",long:"",loading:t.modal_loading},on:{click:t.prolome}},[t._v("确认")])],1)],1),a("Modal",{attrs:{width:"480","footer-hide":""},model:{value:t.addCard,callback:function(e){t.addCard=e},expression:"addCard"}},[a("Card",{staticClass:"marilyn_card addgame"},[a("div",{staticClass:"marilyn_up_card",staticStyle:{"text-align":"center"}},[a("Upload",{staticStyle:{margin:"0 auto"},attrs:{multiple:"",type:"drag",action:t.gameUpload,name:"file","on-success":t.uploadSuccess,"show-upload-list":!1,format:["jpg","jpeg","png","gif"],"before-upload":t.handleUpload}},[a("div",{staticStyle:{padding:"20px 0",width:"200px"}},[a("Icon",{staticStyle:{color:"#3399ff"},attrs:{type:"ios-cloud-upload",size:"52"}}),a("p",[t._v("单击或拖动图片到此处上传")])],1),a("img",{staticClass:"upload_image",attrs:{src:t.marilynNewImg,alt:""}})]),a("div",{staticClass:"marilyn_margin"},[t._v("\n          中文名称 :\n          "),a("Input",{staticClass:"judgename_add",staticStyle:{width:"200px"},attrs:{prefix:"ios-game-controller-b",placeholder:"中文游戏名称 ..."},model:{value:t.marilynName,callback:function(e){t.marilynName=e},expression:"marilynName"}})],1),a("div",{staticClass:"marilyn_margin"},[t._v("\n          英文名称 :\n          "),a("Input",{staticStyle:{width:"200px"},attrs:{prefix:"ios-game-controller-b-outline",placeholder:"英文游戏名称 ..."},model:{value:t.marilynAlias,callback:function(e){t.marilynAlias=e},expression:"marilynAlias"}})],1),a("div",{staticClass:"marilyn_margin",staticStyle:{display:"flex","align-items":"center","justify-content":"center"}},[t._v("\n          所属分类 :\n          "),a("Select",{staticStyle:{width:"186px","margin-left":"6px","text-align":"left"},model:{value:t.marilynSelect,callback:function(e){t.marilynSelect=e},expression:"marilynSelect"}},t._l(t.classList,function(e){return a("Option",{key:e.id,attrs:{value:e.id}},[t._v(t._s(e.name))])}))],1),a("div",{staticClass:"marilyn_margin"},[t._v("\n          所属标签 :\n          "),a("Select",{staticStyle:{width:"186px","margin-left":"6px","text-align":"left"},attrs:{multiple:""},model:{value:t.marilynTag,callback:function(e){t.marilynTag=e},expression:"marilynTag"}},t._l(t.tagLists,function(e){return a("Option",{key:e.id,attrs:{value:e.id}},[t._v(t._s(e.name))])}))],1),a("div",{staticClass:"marilyn_margin"},[t._v("\n          游戏类型 :\n          "),a("Select",{staticStyle:{width:"186px","margin-left":"6px","text-align":"left"},model:{value:t.marilynType,callback:function(e){t.marilynType=e},expression:"marilynType"}},t._l(t.typeLists,function(e){return a("Option",{key:e.id,attrs:{value:e.id}},[t._v(t._s(e.name))])}))],1),a("div",{directives:[{name:"show",rawName:"v-show",value:"1"==t.marilynType||"2"==t.marilynType,expression:"marilynType== '1' ? true :(marilynType== '2' ? true :false )"}],staticClass:"marilyn_margin"},[t._v("\n          所属地址 :\n          "),a("Input",{staticStyle:{width:"200px"},attrs:{prefix:"md-pricetags",placeholder:"请输入游戏地址 ..."},model:{value:t.marilynUrl,callback:function(e){t.marilynUrl=e},expression:"marilynUrl"}})],1),a("Upload",{directives:[{name:"show",rawName:"v-show",value:"0"==t.marilynType,expression:"marilynType== '0' ? true :false"}],staticStyle:{"margin-top":"15px",margin:"15px auto"},attrs:{multiple:"",type:"drag",action:t.gameUpload,name:"file","on-success":t.uploadSuccess,"show-upload-list":!1,format:["zip"],"before-upload":t.zipUpload}},[a("div",{staticStyle:{padding:"20px 0",width:"200px"}},[a("Icon",{staticStyle:{color:"#3399ff"},attrs:{type:"ios-cloud-upload",size:"52"}}),a("p",[t._v("\n              单击或拖动zip格式\n              "),a("br"),t._v("游戏压缩包到此处上传\n            ")]),t.uploaded?a("p",{staticStyle:{"margin-top":"15px"}},[t._v(t._s(t.uploadtitle))]):t._e()],1)]),a("div",{staticClass:"marilyn_margin",staticStyle:{display:"flex","align-items":"center","justify-content":"center"}},[t._v("\n          屏幕方向 :\n          "),a("Select",{staticStyle:{width:"186px","margin-left":"6px","text-align":"left"},model:{value:t.marilyndir,callback:function(e){t.marilyndir=e},expression:"marilyndir"}},t._l(t.directionLists,function(e){return a("Option",{key:e.value,attrs:{value:e.value}},[t._v(t._s(e.name))])}))],1),a("div",{staticClass:"marilyn_margin",staticStyle:{display:"flex","align-items":"center","justify-content":"center"}},[t._v("\n          是否推荐 :\n          "),a("Select",{staticStyle:{width:"186px","margin-left":"6px","text-align":"left"},model:{value:t.marilyncom,callback:function(e){t.marilyncom=e},expression:"marilyncom"}},t._l(t.commendLists,function(e){return a("Option",{key:e.value,attrs:{value:e.value}},[t._v(t._s(e.name))])}))],1),a("div",{staticClass:"marilyn_margin",staticStyle:{display:"flex","align-items":"center","justify-content":"center"}},[a("span",{staticStyle:{"padding-right":"5px"}},[t._v("权重数值 :")]),a("Input",{staticStyle:{width:"200px"},attrs:{type:"text",prefix:"md-pie"},model:{value:t.marilynnum,callback:function(e){t.marilynnum=e},expression:"marilynnum"}})],1),a("div",{staticClass:"marilyn_margin",staticStyle:{display:"flex","align-items":"center","justify-content":"center"}},[a("span",{staticStyle:{"padding-right":"5px",color:"#b3b3b3"}},[t._v("*权重数值:1默认，正整数从大到小推荐")])]),a("div",{staticClass:"marilyn_margin"},[a("Button",{directives:[{name:"show",rawName:"v-show",value:t.btnAdd,expression:"btnAdd"}],ref:"btn_add",staticClass:"btn",staticStyle:{width:"200px"},attrs:{type:"primary"},on:{click:t.addGame}},[t._v("添加")]),a("Button",{directives:[{name:"show",rawName:"v-show",value:!t.btnAdd,expression:"!btnAdd"}],staticClass:"btn",staticStyle:{width:"200px"},attrs:{disabled:"",type:"primary"},on:{click:t.addGame}},[t._v("添加")])],1)],1)])],1),a("Modal",{attrs:{width:"360"},model:{value:t.deleteModel,callback:function(e){t.deleteModel=e},expression:"deleteModel"}},[a("p",{staticStyle:{color:"#f60","text-align":"center"},attrs:{slot:"header"},slot:"header"},[a("Icon",{attrs:{type:"ios-information-circle"}}),a("span",[t._v("删除确认")])],1),a("div",{staticStyle:{"text-align":"center"}},[a("p",[t._v("确认删除游戏")])]),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{type:"error",size:"large",long:"",loading:t.modal_loading},on:{click:t.toolDelete}},[t._v("删除")])],1)]),a("Modal",{attrs:{width:"480"},model:{value:t.editModel,callback:function(e){t.editModel=e},expression:"editModel"}},[a("p",{staticStyle:{color:"#2d8cf0","text-align":"center"},attrs:{slot:"header"},slot:"header"},[a("span",[t._v("修改")])]),a("div",{staticStyle:{"text-align":"center"}},[a("div",{staticStyle:{position:"relative"}},[a("input",{staticClass:"inputfile",attrs:{type:"file",name:"file",id:"fileImg"},on:{change:t.modifyUpload}}),a("img",{staticClass:"curtimg",attrs:{src:t.currentEdit.thumbnail?t.gameImgurl+t.currentEdit.thumbnail:"",alt:""}})]),a("div",[t._v("\n        中文名称 :   \n        "),a("Input",{staticClass:"judgename_edit",staticStyle:{width:"200px",margin:"5px 0"},attrs:{prefix:"ios-game-controller-b",placeholder:"游戏中文名称 ..."},model:{value:t.currentEdit.name,callback:function(e){t.$set(t.currentEdit,"name",e)},expression:"currentEdit.name"}})],1),a("div",[t._v("\n        英文名称 :   \n        "),a("Input",{staticStyle:{width:"200px",margin:"5px 0"},attrs:{prefix:"ios-game-controller-b-outline",placeholder:"游戏英文名称 ..."},model:{value:t.currentEdit.alias,callback:function(e){t.$set(t.currentEdit,"alias",e)},expression:"currentEdit.alias"}})],1),a("div",[t._v("\n        所属分类 :\n        "),a("Select",{staticStyle:{width:"200px","text-align":"left","margin-left":"6px","margin-bottom":"5px","margin-top":"5px"},attrs:{prefix:"logo-buffer",placeholder:"所属游戏分类 ..."},model:{value:t.classId,callback:function(e){t.classId=e},expression:"classId"}},t._l(t.classList,function(e){return a("Option",{key:e.id,attrs:{value:e.id}},[t._v(t._s(e.name))])}))],1),a("div",[t._v("\n        所属标签 :\n        "),a("Select",{staticStyle:{width:"200px","margin-left":"6px","text-align":"left","margin-top":"5px"},attrs:{multiple:""},model:{value:t.labelId,callback:function(e){t.labelId=e},expression:"labelId"}},t._l(t.tagLists,function(e){return a("Option",{key:e.id,attrs:{value:e.id}},[t._v(t._s(e.name))])}))],1),a("div",[t._v("\n        游戏存在的问题 :\n        "),a("Select",{staticStyle:{width:"200px","margin-left":"6px","text-align":"left","margin-top":"5px"},attrs:{multiple:""},model:{value:t.proId,callback:function(e){t.proId=e},expression:"proId"}},t._l(t.procon[0],function(e){return a("Option",{key:e.id,attrs:{value:e.id}},[t._v(t._s(e.content))])}))],1),a("div",[t._v("\n        游戏平台 :\n        "),a("Select",{staticStyle:{width:"186px","margin-left":"6px","text-align":"left"},attrs:{multiple:""},model:{value:t.editPTvalue,callback:function(e){t.editPTvalue=e},expression:"editPTvalue"}},t._l(t.editpingtaivalue,function(e){return a("Option",{key:e.name,attrs:{value:e.name}},[t._v(t._s(e.name))])}))],1),a("div",[t._v("\n        游戏类型 :\n        "),a("Select",{staticStyle:{width:"200px","margin-left":"6px","text-align":"left","margin-top":"5px"},model:{value:t.typeId,callback:function(e){t.typeId=e},expression:"typeId"}},t._l(t.typeLists,function(e){return a("Option",{key:e.id,attrs:{value:e.id}},[t._v(t._s(e.name))])}))],1),a("div",{directives:[{name:"show",rawName:"v-show",value:"1"==t.typeId||"2"==t.typeId,expression:"typeId== '1' ? true :(typeId== '2' ? true :false) "}]},[t._v("\n        所属地址 :   \n        "),a("Input",{staticStyle:{width:"200px",margin:"5px 0"},attrs:{prefix:"md-pricetags",placeholder:"所属游戏地址 ..."},model:{value:t.currentEdit.url,callback:function(e){t.$set(t.currentEdit,"url",e)},expression:"currentEdit.url"}})],1),a("Upload",{directives:[{name:"show",rawName:"v-show",value:"0"==t.typeId,expression:"typeId== '0' ? true :false"}],staticStyle:{margin:"15px auto",width:"200px"},attrs:{multiple:"",type:"drag",action:t.gameUpload,name:"file","on-success":t.uploadSuccess,"show-upload-list":!1,format:["zip"],"before-upload":t.zipUpload}},[a("div",{staticStyle:{padding:"20px 0",width:"200px"}},[a("Icon",{staticStyle:{color:"#3399ff"},attrs:{type:"ios-cloud-upload",size:"52"}}),a("p",[t._v("\n            单击或拖动zip格式\n            "),a("br"),t._v("游戏压缩包到此处上传\n          ")]),t.uploaded?a("p",{staticStyle:{"margin-top":"15px"}},[t._v(t._s(t.uploadtitle))]):t._e()],1)]),a("div",[t._v("\n        屏幕方向 :\n        "),a("Select",{staticStyle:{width:"200px","margin-left":"6px","text-align":"left","margin-top":"5px"},model:{value:t.currentEdit.screen,callback:function(e){t.$set(t.currentEdit,"screen",e)},expression:"currentEdit.screen"}},t._l(t.directionLists,function(e){return a("Option",{key:e.value,attrs:{value:e.value}},[t._v(t._s(e.name))])}))],1),a("div",[t._v("\n        是否推荐 :\n        "),a("Select",{staticStyle:{width:"200px","margin-left":"6px","text-align":"left","margin-top":"5px"},model:{value:t.currentEdit.recommend,callback:function(e){t.$set(t.currentEdit,"recommend",e)},expression:"currentEdit.recommend"}},t._l(t.commendLists,function(e){return a("Option",{key:e.value,attrs:{value:e.value}},[t._v(t._s(e.name))])}))],1),a("div",[t._v("\n        权重数值 :\n        "),a("Input",{staticStyle:{width:"200px","margin-left":"6px","text-align":"left","margin-top":"5px"},attrs:{type:"text",prefix:"md-pie"},model:{value:t.currentEdit.weight,callback:function(e){t.$set(t.currentEdit,"weight",e)},expression:"currentEdit.weight"}}),a("p",{staticStyle:{"font-size":"12px",color:"#b3b3b3","padding-left":"50px"}},[t._v("*1默认，正整数从大到小推荐")])],1)],1),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{directives:[{name:"show",rawName:"v-show",value:t.btnEdit,expression:"btnEdit"}],ref:"btn_edit",attrs:{id:"btn_edit",type:"primary",size:"large",long:"",loading:t.modal_loading},on:{click:t.toolEdit}},[t._v("确认")]),a("Button",{directives:[{name:"show",rawName:"v-show",value:!t.btnEdit,expression:"!btnEdit"}],ref:"btn_edit",attrs:{disabled:"",type:"primary",size:"large",long:"",loading:t.modal_loading},on:{click:t.toolEdit}},[t._v("确认")])],1)]),a("Page",{staticClass:"page",attrs:{total:t.datacount,"page-size":t.pagesize,current:t.pageindex,"show-elevator":""},on:{"update:current":function(e){t.pageindex=e},"on-change":t.changepage}})],1)},Mt=[],Et={data:function(){return{pageindex:1,markid:"",problemreason_value:[],problemreason:[],btnAdd:!0,btnEdit:!0,totaldatalist:[],datalist:[],datacount:0,pagesize:9,classList:[],tagLists:[],typeLists:[{id:"0",name:"游戏"},{id:"1",name:"ios"},{id:"2",name:"android"}],pingtailists:[{id:"2",name:"android"},{id:"1",name:"ios"},{id:"0",name:"小程序"}],editpingtaivalue:[],editPTvalue:[],typeflag:!0,gametype:[],showtype:"",gametip:[],showtip:"",showpingtai:"",pigntaitip:["ios","安卓","小程序"],searchvalue:"",connectarr:[],connectflag:!1,file:"",zipfile:"",zipfileUrl:"",gameImgurl:"",zipuploadUrl:"",gameUpload:"",gameuploadUri:"",uploaded:!1,uploadtitle:"已上传0%",marilynName:"",marilynAlias:"",marilynUrl:"",marilynTag:"",marilynType:"",marilyndir:"",marilyncom:"",marilynnum:1,marilynSelect:"",currentDelete:"",deleteModel:!1,editModel:!1,modal_loading:!1,currentEdit:{},marilynNewImg:"",spinShow:!0,labelId:[],proId:[],procon:[],typeId:[],classId:"",currentImg:null,addCard:!1,dialogTableVisible:!1,directionLists:[{value:"0",name:"竖屏"},{value:"1",name:"横屏"}],commendLists:[{value:"0",name:"不推荐"},{value:"1",name:"推荐"}]}},mounted:function(){var t=this;this.problemList();var e=document.querySelector(".judgename_add").querySelector("input"),a=document.querySelector(".judgename_edit").querySelector("input");J(e,function(){e.style.border="1px solid #2d8cf0",t.btnAdd=!0}),Z(e,function(){F({name:t.marilynName,type:"game"}).then(function(a){0==a.state&&(t.addCard?(t.btnAdd=!1,t.$Message.error("名字为空或该名字已存在"),e.style.border="1px solid red",Object(ft["setTimeout"])(function(){e.style.border="1px solid #dcdee2"},2e3)):t.btnAdd=!0)})}),J(a,function(){a.style.border="1px solid #2d8cf0",t.btnEdit=!0}),Z(a,function(){t.btnEdit=!0,F({name:t.currentEdit.name,type:"game",id:t.currentDelete}).then(function(e){0==e.state&&t.editModel&&(t.btnEdit=!1,t.$Message.error("名字为空或该名字已存在"),a.style.border="1px solid red",Object(ft["setTimeout"])(function(){a.style.border="1px solid #dcdee2"},2e3))})}),this.zipuploadUrl=rt,this.gameImgurl=nt,this.gameuploadUri=dt,this.getData(),O().then(function(e){"1"===e.state&&(t.classList=e.msg)}),D().then(function(e){"1"===e.state&&(t.tagLists=e.msg)})},methods:{getpage:function(t){this.totaldatalist=t,this.datacount=this.totaldatalist.length,this.datacount<this.pagesize?this.datalist=this.totaldatalist:this.datalist=this.totaldatalist.slice(0,this.pagesize)},getData:function(){var t=this;this.spinShow=!0,B().then(function(e){if("1"===e.state)if(t.spinShow=!1,"数据为空！"==e.msg)t.getpage(""),t.spinShow=!0,t.procon=[];else{for(var a=e.msg.length,i=0;i<a;i++){-1==t.gametype.indexOf(e.msg[i].class.name)&&t.gametype.push(e.msg[i].class.name);for(var n=e.msg[i].label.length,s=0;s<n;s++)-1==t.gametip.indexOf(e.msg[i].label[s].name)&&t.gametip.push(e.msg[i].label[s].name);t.procon.push(e.msg[i].tab)}t.getpage(e.msg)}else t.getpage(""),t.spinShow=!1,t.procon.push(e.msg[i].tab)})},connect:function(){this.connectarr=[this.showtype,this.showtip,this.showpingtai];for(var t=0,e=0;e<3;e++)this.connectarr[e]&&t++;t>=2&&(this.connectflag=!0)},connectResult:function(){var t=this,e=[],a=this;R().then(function(i){"1"===i.state&&(t.connectarr[0]&&(e=e.length>0?e.filter(function(t){if(t.class.name==a.connectarr[0])return t}):i.msg.filter(function(t){if(t.class.name==a.connectarr[0])return t})),t.connectarr[1]&&(e=e.length>0?e.filter(function(t){var e=t.label.length;if(e>0)for(var i=0;i<e;i++)if(t.label[i].name==a.connectarr[1])return t}):i.msg.filter(function(t){var e=t.label.length;if(e>0)for(var i=0;i<e;i++)if(t.label[i].name==a.connectarr[1])return t})),t.connectarr[2]&&(e=e.length>0?e.filter(function(t){if("小程序"==a.connectarr[2]){if("1"==t.wechat)return t}else if("安卓"==a.connectarr[2]){if("1"==t.android)return t}else if("ios"==a.connectarr[2]&&"1"==t.ios)return t}):i.msg.filter(function(t){if("小程序"==a.connectarr[2]){if("1"==t.wechat)return t}else if("安卓"==a.connectarr[2]){if("1"==t.android)return t}else if("ios"==a.connectarr[2]&&"1"==t.ios)return t})),t.getpage(e))})},allgame:function(){var t=this;this.searchvalue="",this.pageindex=1,B().then(function(e){t.showtype="",t.showtip="",t.showpingtai="",t.connect(),t.connectflag=!1,"1"===e.state&&(t.getpage(e.msg),t.spinShow=!1)})},selecttip:function(t){var e=this;this.pageindex=1,this.showtip=t,this.connect(),this.connectflag?this.connectResult():B().then(function(a){if("1"===a.state){var i=a.msg.filter(function(e){var a=e.label.length;if(a>0)for(var i=0;i<a;i++)if(e.label[i].name==t)return e});e.getpage(i)}})},selectpigntai:function(t){var e=this;this.pageindex=1,this.showpingtai=t,this.connect(),this.connectflag?this.connectResult():B().then(function(a){if("1"===a.state){var i=a.msg.filter(function(e){if("小程序"==t){if("1"==e.wechat)return e}else if("安卓"==t){if("1"==e.android)return e}else if("ios"==t&&"1"==e.ios)return e});e.getpage(i)}})},selecttype:function(t){var e=this;this.pageindex=1,this.showtype=t,this.connect(),this.connectflag?this.connectResult():B().then(function(a){if("1"===a.state){var i=a.msg.filter(function(e){if(e.class.name==t)return e});e.getpage(i)}})},markGame:function(t){this.markid=t.id,this.problemreason_value=[];for(var e=0;e<t.tab.length;e++)this.problemreason_value.push(t.tab[e].id)},prolome:function(){q({id:this.markid,tab:this.problemreason_value.join(",")}).then(function(t){}),this.pageindex=1,this.getData(),this.dialogTableVisible=!1},problemList:function(){var t=this;L().then(function(e){t.problemreason=e.msg})},search:function(t){var e=this;this.pageindex=1,t?B().then(function(a){if("1"===a.state){var i=a.msg.filter(function(e){if(0==e.name.indexOf(t)&&e.name.length==t.length)return e});i.length>0?e.getpage(i):e.$Message.warning("没有找到匹配结果")}}):this.$Message.warning("请输入搜索内容")},changepage:function(t){var e=(t-1)*this.pagesize,a=t*this.pagesize;this.datalist=this.totaldatalist.slice(e,a);document.documentElement.scrollTop||document.body.scrollTop;this.$refs.marilyn_tab.scrollTop},editEvent:function(t){this.editpingtaivalue.push({name:"android",value:t.android}),this.editpingtaivalue.push({name:"ios",value:t.ios}),this.editpingtaivalue.push({name:"wechat",value:t.wechat}),1==t.android&&this.editPTvalue.push("android"),1==t.ios&&this.editPTvalue.push("ios"),1==t.wechat&&this.editPTvalue.push("wechat"),this.proId="",this.labelId=[],this.currentEdit=t,this.editModel=!0,this.typeId=t.type;for(var e=0;e<t.label.length;e++)this.labelId.push(t.label[e].id);this.classId=t.class.id},uploadSuccess:function(t,e){},handleUpload:function(t){var e=this,a=new FileReader;new Image;a.readAsDataURL(t),a.onload=function(t){e.marilynNewImg=t.target.result},this.file=t},zipUpload:function(t){var e=this;this.zipfileUrl="";var a=document.querySelector(".btn"),i=document.querySelector("#btn_edit");a.disabled=!0,i.disabled=!0;var n=0,s=Object(ft["setInterval"])(function(){if(n++,e.uploadtitle="已上传"+n+"%",e.zipfileUrl&&(e.uploadtitle="上传完成",a.disabled=!1,i.disabled=!1,Object(ft["clearTimeout"])(s)),99==n){Object(ft["clearTimeout"])(s);var t=Object(ft["setInterval"])(function(){e.uploadtitle="已上传99%",e.zipfileUrl&&(e.uploadtitle="上传完成",a.disabled=!1,i.disabled=!1,Object(ft["clearTimeout"])(t))},100)}},700);if(t.type.indexOf("zip")>-1){this.uploaded=!0,this.zipfile=t;var l=new FormData,r={method:"post",body:l};l.append("file",this.zipfile),fetch(rt,r).then(function(t){return t.json()}).then(function(t){"1"===t.state&&(e.zipfileUrl=t.msg)})}},modifyUpload:function(t){this.currentImg=t.currentTarget.files[0];var e=new FileReader;new Image;e.readAsDataURL(this.currentImg),e.onload=function(t){document.querySelector(".curtimg").src=t.target.result}},addGame:function(){var t=this;"0"==this.marilynType&&(this.marilynUrl=this.zipfileUrl);var e=new FormData;e.append("file",this.file),e.append("name",this.marilynName),e.append("alias",this.marilynAlias),e.append("url",this.marilynUrl),e.append("cId",this.marilynSelect),this.marilynTag&&e.append("label",this.marilynTag.join(",")),e.append("type",this.marilynType),e.append("screen",this.marilyndir),e.append("recommend",this.marilyncom),e.append("weight",this.marilynnum);var a={method:"post",body:e};fetch(dt,a).then(function(t){return t.json()}).then(function(e){"1"===e.state?(t.$Message.success(e.msg),t.file="",t.marilynName="",t.marilynAlias="",t.marilynUrl="",t.marilynSelect="",t.marilynTag="",t.marilynNewImg="",t.getData(),t.addCard=!1):t.$Message.error(e.msg)})},toolDelete:function(){var t=this;$({id:this.currentDelete}).then(function(e){"1"===e.state?(t.deleteModel=!1,t.$Message.success(e.msg),t.getData()):t.$Message.error(e.msg)})},toolEdit:function(){var t=this,e=new FormData;this.editPTvalue.indexOf("android")>-1?e.append("android","1"):e.append("android","0"),this.editPTvalue.indexOf("ios")>-1?e.append("ios","1"):e.append("ios","0"),this.editPTvalue.indexOf("wechat")>-1?e.append("wechat","1"):e.append("wechat","0"),this.currentImg&&e.append("file",this.currentImg),e.append("id",this.currentEdit.id),e.append("name",this.currentEdit.name),e.append("alias",this.currentEdit.alias),e.append("cId",this.classId),e.append("label",this.labelId.join(",")),e.append("type",this.typeId),e.append("url",this.currentEdit.url),e.append("recommend",this.currentEdit.recommend),e.append("screen",this.currentEdit.screen),e.append("weight",this.currentEdit.weight),e.append("proId",this.procon);var a={method:"post",body:e};fetch(ct,a).then(function(t){return t.json()}).then(function(e){"1"===e.state?(t.editModel=!1,t.$Message.success(e.msg),t.getData()):t.$Message.error(e.msg)})}},watch:{marilynType:function(t){0!=t?document.querySelector(".btn").disabled=!1:"上传完成"!=this.uploadtitle&&(document.querySelector(".btn").disabled=!0)},addCard:function(t){this.btnAdd=!0},editModel:function(t){this.btnEdit=!0,t||(this.editPTvalue=[],this.editpingtaivalue=[])}}},At=Et,zt=(a("6880"),Object(u["a"])(At,Ct,Mt,!1,null,"c4d6ad48",null));zt.options.__file="Pending.vue";var Ot=zt.exports,Nt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container"},[t.spinShow?i("Spin",{attrs:{size:"large",fix:""}}):t._e(),i("div",{staticClass:"marilyn_tab"},[i("Card",{staticClass:"marilyn_card marilyn_upload"},[i("div",{staticClass:"add_game_view",on:{click:function(e){t.addCard=!0}}},[i("img",{staticStyle:{height:"150px",width:"150px"},attrs:{src:a("17cc")}}),i("span",{staticStyle:{display:"block","text-align":"center"}},[t._v("添加标签")])])]),t._l(t.datalist,function(e){return i("Card",{staticClass:"marilyn_card"},[i("div",{staticStyle:{"text-align":"center"}},[i("h3",{staticClass:"marilyn_name"},[t._v(t._s(e.name))]),i("img",{attrs:{src:t.gameImgurl+e.image,alt:"",width:"60"}}),i("p",{staticClass:"marilyn_num"},[t._v("英文名: "+t._s(e.alias))]),i("p",{staticClass:"marilyn_num"},[t._v("游戏数量: "+t._s(e.num))])]),i("div",{staticClass:"marilyn_tools"},[i("i",{staticClass:"fas fa-trash-alt",staticStyle:{cursor:"pointer",color:"#ed4014"},on:{click:function(a){t.currentDelete=e.id,t.deleteModel=!t.deleteModel}}}),i("i",{staticClass:"far fa-edit",staticStyle:{cursor:"pointer"},on:{click:function(a){t.updateId=e.id,t.updateName=e.name,t.updateEnName=e.alias,t.updateImg=e.image,t.editModel=!t.editModel}}})])])})],2),i("Modal",{attrs:{width:"300","footer-hide":""},model:{value:t.addCard,callback:function(e){t.addCard=e},expression:"addCard"}},[i("div",{staticClass:"marilyn_margin",staticStyle:{"text-align":"center"}},[i("Upload",{attrs:{multiple:"",type:"drag",action:t.gameUpload,name:"file","on-success":t.uploadSuccess,"show-upload-list":!1,format:["jpg","jpeg","png","gif"],"before-upload":t.handleUpload}},[i("div",{staticStyle:{padding:"20px 0"}},[i("Icon",{staticStyle:{color:"#3399ff"},attrs:{type:"ios-cloud-upload",size:"52"}}),i("p",[t._v("单击或拖动图片到此处上传")])],1),i("img",{staticClass:"upload_image",attrs:{src:t.marilynNewImg,alt:""}})]),i("Input",{staticClass:"judgename_add",staticStyle:{width:"auto","margin-top":"15px"},attrs:{prefix:"ios-game-controller-b",placeholder:"中文标签名字 ..."},model:{value:t.marilynName,callback:function(e){t.marilynName=e},expression:"marilynName"}}),i("Input",{staticStyle:{width:"auto","margin-top":"15px"},attrs:{prefix:"ios-game-controller-b-outline",placeholder:"英文标签名字 ..."},model:{value:t.marilynEnName,callback:function(e){t.marilynEnName=e},expression:"marilynEnName"}})],1),i("Button",{directives:[{name:"show",rawName:"v-show",value:t.btnAdd,expression:"btnAdd"}],ref:"btn_add",staticClass:"marilyn_margin",attrs:{type:"primary",long:""},on:{click:t.addClass}},[t._v("添加")]),i("Button",{directives:[{name:"show",rawName:"v-show",value:!t.btnAdd,expression:"!btnAdd"}],ref:"btn_add",staticClass:"marilyn_margin",attrs:{disabled:"",type:"primary",long:""},on:{click:t.addClass}},[t._v("添加")])],1),i("Modal",{attrs:{width:"360"},model:{value:t.deleteModel,callback:function(e){t.deleteModel=e},expression:"deleteModel"}},[i("p",{staticStyle:{color:"#f60","text-align":"center"},attrs:{slot:"header"},slot:"header"},[i("Icon",{attrs:{type:"ios-information-circle"}}),i("span",[t._v("删除确认")])],1),i("div",{staticStyle:{"text-align":"center"}},[i("p",[t._v("是否继续删除？")])]),i("div",{attrs:{slot:"footer"},slot:"footer"},[i("Button",{attrs:{type:"error",size:"large",long:"",loading:t.modal_loading},on:{click:t.toolDelete}},[t._v("\n        删除\n      ")])],1)]),i("Modal",{attrs:{width:"360"},model:{value:t.editModel,callback:function(e){t.editModel=e},expression:"editModel"}},[i("p",{staticStyle:{color:"#2d8cf0","text-align":"center"},attrs:{slot:"header"},slot:"header"},[i("span",[t._v("修改")])]),i("div",{staticStyle:{"text-align":"center"}},[i("div",{staticStyle:{position:"relative",height:"164px",width:"100%"}},[i("input",{staticClass:"inputfile",attrs:{type:"file",name:"file",id:"fileImg"},on:{change:t.modifyUpload}}),i("img",{staticClass:"curtimg",attrs:{src:t.gameImgurl+t.updateImg,alt:"",width:"60"}})]),i("div",[t._v("\n        中文名字 : \n        "),i("Input",{staticClass:"judgename_edit",staticStyle:{width:"auto",margin:"10px 0"},attrs:{prefix:"ios-game-controller-b",placeholder:"分类名字 ..."},model:{value:t.updateName,callback:function(e){t.updateName=e},expression:"updateName"}})],1),i("div",[t._v("\n        英文名字 : \n        "),i("Input",{staticStyle:{width:"auto",margin:"10px 0"},attrs:{prefix:"ios-game-controller-b-outline",placeholder:"分类名字 ..."},model:{value:t.updateEnName,callback:function(e){t.updateEnName=e},expression:"updateEnName"}})],1)]),i("div",{attrs:{slot:"footer"},slot:"footer"},[i("Button",{directives:[{name:"show",rawName:"v-show",value:t.btnEdit,expression:"btnEdit"}],ref:"btn_edit",attrs:{type:"primary",size:"large",long:"",loading:t.modal_loading},on:{click:t.toolEdit}},[t._v("\n        确认\n      ")]),i("Button",{directives:[{name:"show",rawName:"v-show",value:!t.btnEdit,expression:"!btnEdit"}],ref:"btn_edit",attrs:{disabled:"",type:"primary",size:"large",long:"",loading:t.modal_loading},on:{click:t.toolEdit}},[t._v("\n        确认\n      ")])],1)])],1)},Ut=[],Tt={data:function(){return{btnAdd:!0,btnEdit:!0,datalist:[],marilynName:"",marilynEnName:"",currentDelete:"",addCard:!1,deleteModel:!1,editModel:!1,modal_loading:!1,updateId:"",updateName:"",updateEnName:"",updateImg:"",spinShow:!0,currentImg:null,gameUpload:"",marilynNewImg:"",file:"",gameImgurl:""}},mounted:function(){var t=this,e=document.querySelector(".judgename_add").querySelector("input"),a=document.querySelector(".judgename_edit").querySelector("input");J(e,function(){e.style.border="1px solid #2d8cf0",t.btnAdd=!0}),Z(e,function(){F({name:t.marilynName,type:"label"}).then(function(a){0==a.state&&t.addCard&&(t.btnAdd=!1,t.$Message.error("名字为空或该名字已存在"),e.style.border="1px solid red",setTimeout(function(){e.style.border="1px solid #dcdee2"},2e3))})}),J(a,function(){a.style.border="1px solid #2d8cf0",t.btnEdit=!0}),Z(a,function(){F({name:t.updateName,type:"label",id:t.updateId}).then(function(e){0==e.state&&t.editModel&&(t.btnEdit=!1,t.$Message.error("名字为空或该名字已存在"),a.style.border="1px solid red",setTimeout(function(){a.style.border="1px solid #dcdee2"},2e3))})}),this.gameImgurl=nt,this.getData()},watch:{addCard:function(t){this.btnAdd=!0},editModel:function(t){this.btnEdit=!0}},methods:{getData:function(){var t=this;this.spinShow=!0,D().then(function(e){"1"===e.state&&(t.datalist=e.msg,t.spinShow=!1)})},addClass:function(){var t=this;if(0!==this.marilynName.trim().length){var e=new FormData;e.append("name",this.marilynName),e.append("alias",this.marilynEnName),e.append("file",this.file);var a={method:"post",body:e};fetch(lt,a).then(function(t){return t.json()}).then(function(e){"1"===e.state?(t.$Message.success(e.msg),t.file="",t.marilynName="",t.addCard=!1,t.getData()):t.$Message.error(e.msg)})}},toolDelete:function(){var t=this;j({id:this.currentDelete}).then(function(e){"1"===e.state?(t.deleteModel=!1,t.$Message.success(e.msg),t.getData()):t.$Message.error(e.msg)})},toolEdit:function(){var t=this,e=new FormData;this.currentImg&&e.append("file",this.currentImg),e.append("id",this.updateId),e.append("name",this.updateName),e.append("alias",this.updateEnName);var a={method:"post",body:e};fetch(st,a).then(function(t){return t.json()}).then(function(e){"1"===e.state?(t.editModel=!1,t.$Message.success(e.msg),t.getData()):t.$Message.error(e.msg)})},handleUpload:function(t){var e=this,a=new FileReader;new Image;a.readAsDataURL(t),a.onload=function(t){e.marilynNewImg=t.target.result},this.file=t},uploadSuccess:function(t,e){},modifyUpload:function(t){this.currentImg=t.currentTarget.files[0];var e=new FileReader;new Image;e.readAsDataURL(this.currentImg),e.onload=function(t){document.querySelector(".curtimg").src=t.target.result}}}},Dt=Tt,jt=(a("bb0b"),Object(u["a"])(Dt,Nt,Ut,!1,null,"2dfd72a8",null));jt.options.__file="Tag.vue";var Rt=jt.exports,Bt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container"},[t.spinShow?i("Spin",{attrs:{size:"large",fix:""}}):t._e(),i("Button",{staticStyle:{"margin-left":"20px"},attrs:{type:"primary"},on:{click:t.allgame}},[t._v("全部游戏")]),i("Dropdown",{staticStyle:{"margin-left":"20px"}},[i("Button",{staticStyle:{width:"100px"},attrs:{type:"primary"}},[t._v("\n      "+t._s(t.showtype.length>0?t.showtype:"选择分类")+"\n      "),i("Icon",{attrs:{type:"ios-arrow-down"}})],1),i("DropdownMenu",{staticClass:"xialai",attrs:{slot:"list"},slot:"list"},t._l(t.gametype,function(e){return i("DropdownItem",[i("span",{on:{click:function(a){t.selecttype(e)}}},[t._v(t._s(e))])])}))],1),i("Dropdown",{staticStyle:{"margin-left":"20px"}},[i("Button",{staticStyle:{width:"100px"},attrs:{type:"primary"}},[t._v("\n      "+t._s(t.showtip.length>0?t.showtip:"选择标签")+"\n      "),i("Icon",{attrs:{type:"ios-arrow-down"}})],1),i("DropdownMenu",{staticClass:"xialai",attrs:{slot:"list"},slot:"list"},t._l(t.gametip,function(e){return i("DropdownItem",[i("span",{on:{click:function(a){t.selecttip(e)}}},[t._v(t._s(e))])])}))],1),i("Dropdown",{staticStyle:{"margin-left":"20px"}},[i("Button",{staticStyle:{width:"100px"},attrs:{type:"primary"}},[t._v("\n      "+t._s(t.showpingtai.length>0?t.showpingtai:"选择平台")+"\n      "),i("Icon",{attrs:{type:"ios-arrow-down"}})],1),i("DropdownMenu",{staticClass:"xialai",attrs:{slot:"list"},slot:"list"},t._l(t.pigntaitip,function(e){return i("DropdownItem",[i("span",{on:{click:function(a){t.selectpigntai(e)}}},[t._v(t._s(e))])])}))],1),i("Input",{staticClass:"sousuo",attrs:{search:"","enter-button":"",placeholder:"按游戏名搜索"},on:{"on-search":t.search},model:{value:t.searchvalue,callback:function(e){t.searchvalue=e},expression:"searchvalue"}}),i("div",{ref:"marilyn_tab",staticClass:"marilyn_tab",attrs:{id:"totop"}},[i("Card",{ref:"#top",staticClass:"marilyn_card marilyn_card_add"},[i("div",{staticClass:"add_game_view",on:{click:function(e){t.addCard=!0}}},[i("img",{staticStyle:{height:"164px",width:"164px"},attrs:{src:a("17cc")}}),i("span",[t._v("添加游戏")])])]),t._l(t.datalist,function(e){return i("Card",{staticClass:"marilyn_card"},[i("div",{staticStyle:{"text-align":"center"}},[i("img",{staticClass:"marilyn_img",attrs:{src:t.gameImgurl+e.image}}),i("p",{staticClass:"marilyn_des"},[t._v("中文名称 : "+t._s(e.name)+"  ")]),i("p",{staticClass:"marilyn_des"},[t._v("英文名称 : "+t._s(e.alias)+" ")]),i("p",{staticClass:"marilyn_des"},[t._v("\n          游戏地址 :\n          "),i("a",{attrs:{target:"_Blank",href:"0"==e.type?t.gameImgurl+e.url:e.url}},[t._v(t._s(e.url))])]),i("p",{staticClass:"marilyn_des"},[t._v("创建时间 : "+t._s(e.time))]),i("p",{staticClass:"marilyn_des"},[t._v("所属分类: "+t._s(e.class.name))]),i("p",{staticClass:"marilyn_des"},[t._v("\n          所属标签 :\n          "),t._l(e.label,function(e){return[t._v(t._s(e.name)+",")]})],2),i("p",{staticClass:"marilyn_des"},[t._v("游戏平台 : "+t._s((1==e.android?"安卓,":"")+(1==e.ios?"ios,":"")+(1==e.wechat?"小程序":"")))]),i("p",{staticClass:"marilyn_des"},[t._v("游戏类型 : "+t._s(e.type?0==e.type?"游戏":1==e.type?"ios":"android":"未定义"))]),i("p",{staticClass:"marilyn_des"},[t._v("\n          屏幕方向 :\n          "),0==e.screen?[t._v("竖屏")]:[t._v("横屏")]],2),i("p",{staticClass:"marilyn_des"},[t._v("\n          是否推荐 :\n          "),0==e.recommend?[t._v("不推荐")]:[t._v("推荐")]],2),i("p",{staticClass:"marilyn_des"},[t._v("游戏权重 : "+t._s(e.weight))]),i("p",{staticClass:"marilyn_des"},[t._v("游戏标记问题 : "+t._s(e.weight))]),i("Button",{staticStyle:{width:"100px"},attrs:{type:"primary"},on:{click:function(a){t.markclick(e),t.dialogTableVisible=!0}}},[t._v("标记")])],1),i("div",{staticClass:"marilyn_tools"},[i("i",{staticClass:"fas fa-trash-alt",staticStyle:{cursor:"pointer",color:"#ed4014"},on:{click:function(a){t.currentDelete=e.id,t.deleteModel=!t.deleteModel}}}),i("i",{staticClass:"far fa-edit",staticStyle:{cursor:"pointer"},on:{click:function(a){t.editEvent(e)}}})])])})],2),i("Modal",{staticStyle:{width:"400px"},attrs:{width:"480",height:"600"},model:{value:t.dialogTableVisible,callback:function(e){t.dialogTableVisible=e},expression:"dialogTableVisible"}},[i("p",{staticStyle:{color:"#2d8cf0","text-align":"center"},attrs:{slot:"header"},slot:"header"},[i("span",[t._v("选择游戏问题类型")])]),i("Select",{attrs:{multiple:""},model:{value:t.problemreason_value,callback:function(e){t.problemreason_value=e},expression:"problemreason_value"}},t._l(t.problemreason,function(e,a){return i("Option",{key:a,attrs:{value:e.id}},[t._v(t._s(e.content))])})),i("div",{attrs:{slot:"footer"},slot:"footer"},[i("Button",{directives:[{name:"show",rawName:"v-show",value:t.btnEdit,expression:"btnEdit"}],ref:"btn_edit",staticClass:"btn_edit",attrs:{type:"primary",size:"large",long:"",loading:t.modal_loading},on:{click:t.prolome}},[t._v("确认")])],1)],1),i("Modal",{attrs:{width:"480","footer-hide":""},model:{value:t.addCard,callback:function(e){t.addCard=e},expression:"addCard"}},[i("Card",{staticClass:"marilyn_card addgame"},[i("div",{staticClass:"marilyn_up_card",staticStyle:{"text-align":"center"}},[i("Upload",{staticStyle:{margin:"0 auto"},attrs:{multiple:"",type:"drag",action:t.gameUpload,name:"file","on-success":t.uploadSuccess,"show-upload-list":!1,format:["jpg","jpeg","png","gif"],"before-upload":t.handleUpload}},[i("div",{staticStyle:{padding:"20px 0",width:"200px"}},[i("Icon",{staticStyle:{color:"#3399ff"},attrs:{type:"ios-cloud-upload",size:"52"}}),i("p",[t._v("单击或拖动图片到此处上传")])],1),i("img",{staticClass:"upload_image",attrs:{src:t.marilynNewImg,alt:""}})]),i("div",{staticClass:"marilyn_margin"},[t._v("\n          中文名称 :\n          "),i("Input",{staticClass:"judgename_add",staticStyle:{width:"200px"},attrs:{prefix:"ios-game-controller-b",placeholder:"中文游戏名称 ..."},model:{value:t.marilynName,callback:function(e){t.marilynName=e},expression:"marilynName"}})],1),i("div",{staticClass:"marilyn_margin"},[t._v("\n          英文名称 :\n          "),i("Input",{staticStyle:{width:"200px"},attrs:{prefix:"ios-game-controller-b-outline",placeholder:"英文游戏名称 ..."},model:{value:t.marilynAlias,callback:function(e){t.marilynAlias=e},expression:"marilynAlias"}})],1),i("div",{staticClass:"marilyn_margin",staticStyle:{display:"flex","align-items":"center","justify-content":"center"}},[t._v("\n          所属分类 :\n          "),i("Select",{staticStyle:{width:"186px","margin-left":"6px","text-align":"left"},model:{value:t.marilynSelect,callback:function(e){t.marilynSelect=e},expression:"marilynSelect"}},t._l(t.classList,function(e){return i("Option",{key:e.id,attrs:{value:e.id}},[t._v(t._s(e.name))])}))],1),i("div",{staticClass:"marilyn_margin"},[t._v("\n          所属标签 :\n          "),i("Select",{staticStyle:{width:"186px","margin-left":"6px","text-align":"left"},attrs:{multiple:""},model:{value:t.marilynTag,callback:function(e){t.marilynTag=e},expression:"marilynTag"}},t._l(t.tagLists,function(e){return i("Option",{key:e.id,attrs:{value:e.id}},[t._v(t._s(e.name))])}))],1),i("div",{staticClass:"marilyn_margin"},[t._v("\n          游戏平台 :\n          "),i("Select",{staticStyle:{width:"186px","margin-left":"6px","text-align":"left"},attrs:{multiple:""},model:{value:t.pingtaivalue,callback:function(e){t.pingtaivalue=e},expression:"pingtaivalue"}},t._l(t.pingtailists,function(e){return i("Option",{key:e.id,attrs:{value:e.id}},[t._v(t._s(e.name))])}))],1),i("div",{staticClass:"marilyn_margin"},[t._v("\n          游戏类型 :\n          "),i("Select",{staticStyle:{width:"186px","margin-left":"6px","text-align":"left"},model:{value:t.marilynType,callback:function(e){t.marilynType=e},expression:"marilynType"}},t._l(t.typeLists,function(e){return i("Option",{key:e.id,attrs:{value:e.id}},[t._v(t._s(e.name))])}))],1),i("div",{directives:[{name:"show",rawName:"v-show",value:"1"==t.marilynType||"2"==t.marilynType,expression:"marilynType== '1' ? true :(marilynType== '2' ? true :false )"}],staticClass:"marilyn_margin"},[t._v("\n          所属地址 :\n          "),i("Input",{staticStyle:{width:"200px"},attrs:{prefix:"md-pricetags",placeholder:"请输入游戏地址 ..."},model:{value:t.marilynUrl,callback:function(e){t.marilynUrl=e},expression:"marilynUrl"}})],1),i("Upload",{directives:[{name:"show",rawName:"v-show",value:"0"==t.marilynType,expression:"marilynType== '0' ? true :false"}],staticStyle:{"margin-top":"15px",margin:"15px auto"},attrs:{multiple:"",type:"drag",action:t.gameUpload,name:"file","on-success":t.uploadSuccess,"show-upload-list":!1,format:["zip"],"before-upload":t.zipUpload}},[i("div",{staticStyle:{padding:"20px 0",width:"200px"}},[i("Icon",{staticStyle:{color:"#3399ff"},attrs:{type:"ios-cloud-upload",size:"52"}}),i("p",[t._v("\n              单击或拖动zip格式\n              "),i("br"),t._v("游戏压缩包到此处上传\n            ")]),t.uploaded?i("p",{staticStyle:{"margin-top":"15px"}},[t._v(t._s(t.uploadtitle))]):t._e()],1)]),i("div",{staticClass:"marilyn_margin",staticStyle:{display:"flex","align-items":"center","justify-content":"center"}},[t._v("\n          屏幕方向 :\n          "),i("Select",{staticStyle:{width:"186px","margin-left":"6px","text-align":"left"},model:{value:t.marilyndir,callback:function(e){t.marilyndir=e},expression:"marilyndir"}},t._l(t.directionLists,function(e){return i("Option",{key:e.value,attrs:{value:e.value}},[t._v(t._s(e.name))])}))],1),i("div",{staticClass:"marilyn_margin",staticStyle:{display:"flex","align-items":"center","justify-content":"center"}},[t._v("\n          是否推荐 :\n          "),i("Select",{staticStyle:{width:"186px","margin-left":"6px","text-align":"left"},model:{value:t.marilyncom,callback:function(e){t.marilyncom=e},expression:"marilyncom"}},t._l(t.commendLists,function(e){return i("Option",{key:e.value,attrs:{value:e.value}},[t._v(t._s(e.name))])}))],1),i("div",{staticClass:"marilyn_margin",staticStyle:{display:"flex","align-items":"center","justify-content":"center"}},[i("span",{staticStyle:{"padding-right":"5px"}},[t._v("权重数值 :")]),i("Input",{staticStyle:{width:"200px"},attrs:{type:"text",prefix:"md-pie"},model:{value:t.marilynnum,callback:function(e){t.marilynnum=e},expression:"marilynnum"}})],1),i("div",{staticClass:"marilyn_margin",staticStyle:{display:"flex","align-items":"center","justify-content":"center"}},[i("span",{staticStyle:{"padding-right":"5px",color:"#b3b3b3"}},[t._v("*权重数值:1默认，正整数从大到小推荐")])]),i("div",{staticClass:"marilyn_margin"},[i("Button",{directives:[{name:"show",rawName:"v-show",value:t.btnAdd,expression:"btnAdd"}],ref:"btn_add",staticStyle:{width:"200px"},attrs:{id:"btn",type:"primary"},on:{click:t.addGame}},[t._v("添加")]),i("Button",{directives:[{name:"show",rawName:"v-show",value:!t.btnAdd,expression:"!btnAdd"}],staticClass:"btn",staticStyle:{width:"200px"},attrs:{disabled:"",type:"primary"},on:{click:t.addGame}},[t._v("添加")])],1)],1)])],1),i("Modal",{attrs:{width:"360"},model:{value:t.deleteModel,callback:function(e){t.deleteModel=e},expression:"deleteModel"}},[i("p",{staticStyle:{color:"#f60","text-align":"center"},attrs:{slot:"header"},slot:"header"},[i("Icon",{attrs:{type:"ios-information-circle"}}),i("span",[t._v("删除确认")])],1),i("div",{staticStyle:{"text-align":"center"}},[i("p",[t._v("确认删除游戏")])]),i("div",{attrs:{slot:"footer"},slot:"footer"},[i("Button",{attrs:{type:"error",size:"large",long:"",loading:t.modal_loading},on:{click:t.toolDelete}},[t._v("删除")])],1)]),i("Modal",{attrs:{width:"480"},model:{value:t.editModel,callback:function(e){t.editModel=e},expression:"editModel"}},[i("p",{staticStyle:{color:"#2d8cf0","text-align":"center"},attrs:{slot:"header"},slot:"header"},[i("span",[t._v("修改")])]),i("div",{staticStyle:{"text-align":"center"}},[i("div",{staticStyle:{position:"relative",display:"flex","justify-content":"center"}},[i("input",{staticClass:"inputfile",attrs:{type:"file",name:"file",id:"fileImg"},on:{change:t.modifyUpload}}),i("img",{staticClass:"curtimg",staticStyle:{width:"50px",height:"50px",display:"block"},attrs:{src:t.currentEdit.thumbnail?t.gameImgurl+t.currentEdit.thumbnail:"",alt:""}})]),i("div",[t._v("\n        中文名称 :   \n        "),i("Input",{staticClass:"judgename_edit",staticStyle:{width:"200px",margin:"5px 0"},attrs:{prefix:"ios-game-controller-b",placeholder:"游戏中文名称 ..."},model:{value:t.currentEdit.name,callback:function(e){t.$set(t.currentEdit,"name",e)},expression:"currentEdit.name"}})],1),i("div",[t._v("\n        英文名称 :   \n        "),i("Input",{staticStyle:{width:"200px",margin:"5px 0"},attrs:{prefix:"ios-game-controller-b-outline",placeholder:"游戏英文名称 ..."},model:{value:t.currentEdit.alias,callback:function(e){t.$set(t.currentEdit,"alias",e)},expression:"currentEdit.alias"}})],1),i("div",[t._v("\n        所属分类 :\n        "),i("Select",{staticStyle:{width:"200px","text-align":"left","margin-left":"6px","margin-bottom":"5px","margin-top":"5px"},attrs:{prefix:"logo-buffer",placeholder:"所属游戏分类 ..."},model:{value:t.classId,callback:function(e){t.classId=e},expression:"classId"}},t._l(t.classList,function(e){return i("Option",{key:e.id,attrs:{value:e.id}},[t._v(t._s(e.name))])}))],1),i("div",[t._v("\n        所属标签 :\n        "),i("Select",{staticStyle:{width:"200px","margin-left":"6px","text-align":"left","margin-top":"5px"},attrs:{multiple:""},model:{value:t.labelId,callback:function(e){t.labelId=e},expression:"labelId"}},t._l(t.tagLists,function(e){return i("Option",{key:e.name,attrs:{value:e.id}},[t._v(t._s(e.name))])}))],1),i("div",[t._v("\n        游戏平台 :\n        "),i("Select",{staticStyle:{width:"200px","margin-left":"6px","text-align":"left","margin-top":"5px"},attrs:{multiple:""},model:{value:t.editPTvalue,callback:function(e){t.editPTvalue=e},expression:"editPTvalue"}},t._l(t.editpingtaivalue,function(e){return i("Option",{key:e.name,attrs:{value:e.name}},[t._v(t._s(e.name))])}))],1),i("div",[t._v("\n        游戏类型 :\n        "),i("Select",{staticStyle:{width:"200px","margin-left":"6px","text-align":"left","margin-top":"5px"},model:{value:t.typeId,callback:function(e){t.typeId=e},expression:"typeId"}},t._l(t.typeLists,function(e){return i("Option",{key:e.id,attrs:{value:e.id}},[t._v(t._s(e.name))])}))],1),i("div",{directives:[{name:"show",rawName:"v-show",value:"1"==t.typeId||"2"==t.typeId,expression:"typeId== '1' ? true :(typeId== '2' ? true :false) "}]},[t._v("\n        所属地址 :   \n        "),i("Input",{staticStyle:{width:"200px",margin:"5px 0"},attrs:{prefix:"md-pricetags",placeholder:"所属游戏地址 ..."},model:{value:t.currentEdit.url,callback:function(e){t.$set(t.currentEdit,"url",e)},expression:"currentEdit.url"}})],1),i("Upload",{directives:[{name:"show",rawName:"v-show",value:"0"==t.typeId,expression:"typeId== '0' ? true :false"}],staticStyle:{margin:"15px auto",width:"200px"},attrs:{multiple:"",type:"drag",action:t.gameUpload,name:"file","on-success":t.uploadSuccess,"show-upload-list":!1,format:["zip"],"before-upload":t.zipUpload}},[i("div",{staticStyle:{padding:"20px 0",width:"200px"}},[i("Icon",{staticStyle:{color:"#3399ff"},attrs:{type:"ios-cloud-upload",size:"52"}}),i("p",[t._v("\n            单击或拖动zip格式\n            "),i("br"),t._v("游戏压缩包到此处上传\n          ")]),t.uploaded?i("p",{staticStyle:{"margin-top":"15px"}},[t._v(t._s(t.uploadtitle))]):t._e()],1)]),i("div",[t._v("\n        屏幕方向 :\n        "),i("Select",{staticStyle:{width:"200px","margin-left":"6px","text-align":"left","margin-top":"5px"},model:{value:t.currentEdit.screen,callback:function(e){t.$set(t.currentEdit,"screen",e)},expression:"currentEdit.screen"}},t._l(t.directionLists,function(e){return i("Option",{key:e.value,attrs:{value:e.value}},[t._v(t._s(e.name))])}))],1),i("div",[t._v("\n        是否推荐 :\n        "),i("Select",{staticStyle:{width:"200px","margin-left":"6px","text-align":"left","margin-top":"5px"},model:{value:t.currentEdit.recommend,callback:function(e){t.$set(t.currentEdit,"recommend",e)},expression:"currentEdit.recommend"}},t._l(t.commendLists,function(e){return i("Option",{key:e.value,attrs:{value:e.value}},[t._v(t._s(e.name))])}))],1),i("div",[t._v("\n        权重数值 :\n        "),i("Input",{staticStyle:{width:"200px","margin-left":"6px","text-align":"left","margin-top":"5px"},attrs:{type:"text",prefix:"md-pie"},model:{value:t.currentEdit.weight,callback:function(e){t.$set(t.currentEdit,"weight",e)},expression:"currentEdit.weight"}}),i("p",{staticStyle:{"font-size":"12px",color:"#b3b3b3","padding-left":"50px"}},[t._v("*1默认，正整数从大到小推荐")])],1)],1),i("div",{attrs:{slot:"footer"},slot:"footer"},[i("Button",{directives:[{name:"show",rawName:"v-show",value:t.btnEdit,expression:"btnEdit"}],ref:"btn_edit",attrs:{id:"btn_edit",type:"primary",size:"large",long:"",loading:t.modal_loading},on:{click:t.toolEdit}},[t._v("确认")]),i("Button",{directives:[{name:"show",rawName:"v-show",value:!t.btnEdit,expression:"!btnEdit"}],ref:"btn_edit",attrs:{disabled:"",type:"primary",size:"large",long:"",loading:t.modal_loading},on:{click:t.toolEdit}},[t._v("确认")])],1)]),i("Page",{staticClass:"page",attrs:{total:t.datacount,"page-size":t.pagesize,current:t.pageindex,"show-elevator":""},on:{"update:current":function(e){t.pageindex=e},"on-change":t.changepage}})],1)},qt=[],Lt={data:function(){return{pageindex:1,clear:!1,markid:"",btnAdd:!0,btnEdit:!0,totaldatalist:[],datalist:[],datacount:0,pagesize:9,classList:[],tagLists:[],typeLists:[{id:"0",name:"游戏"},{id:"1",name:"ios"},{id:"2",name:"android"}],pingtailists:[{id:"2",name:"android"},{id:"1",name:"ios"},{id:"0",name:"小程序"}],pingtaivalue:"",editpingtaivalue:[],editPTvalue:[],savegamearr:[],savegameflag:!0,typeflag:!1,tipflag:!1,pingtaiflag:!1,connectflag:!1,connectarr:[],pigntaitip:["ios","安卓","小程序"],gametype:[],showtype:"",gametip:[],showtip:"",showpingtai:"",searchvalue:"",file:"",zipfile:"",zipfileUrl:"",gameImgurl:"",zipuploadUrl:"",gameUpload:"",gameuploadUri:"",uploaded:!1,uploadtitle:"已上传0%",marilynName:"",marilynAlias:"",marilynUrl:"",marilynTag:"",marilynType:"",marilyndir:"",marilyncom:"",marilynnum:1,marilynSelect:"",currentDelete:"",deleteModel:!1,editModel:!1,modal_loading:!1,currentEdit:{},marilynNewImg:"",spinShow:!0,labelId:[],typeId:[],classId:"",currentImg:null,addCard:!1,dialogTableVisible:!1,formLabelWidth:"120px",problemreason:[],directionLists:[{value:"0",name:"竖屏"},{value:"1",name:"横屏"}],commendLists:[{value:"0",name:"不推荐"},{value:"1",name:"推荐"}],problemreason_value:[],clear_value:[],clearcon:[{value:"index",content:"首页"},{value:"recommend",content:"推荐"},{value:"news",content:"最新"},{value:"hot",content:"最热"},{value:"class",content:"分类推荐"},{value:"label",content:"标签推荐"},{value:"all",content:"全部缓存"}]}},mounted:function(){var t=this;this.problemList();var e=document.querySelector(".judgename_add").querySelector("input"),a=document.querySelector(".judgename_edit").querySelector("input");J(e,function(){e.style.border="1px solid #2d8cf0",t.btnAdd=!0}),Z(e,function(){F({name:t.marilynName,type:"game"}).then(function(a){0==a.state&&(t.addCard?(t.btnAdd=!1,t.$Message.error("名字为空或该名字已存在"),e.style.border="1px solid red",Object(ft["setTimeout"])(function(){e.style.border="1px solid #dcdee2"},2e3)):t.btnAdd=!0)})}),J(a,function(){a.style.border="1px solid #2d8cf0",t.btnEdit=!0}),Z(a,function(){t.btnEdit=!0,F({name:t.currentEdit.name,type:"game",id:t.currentDelete}).then(function(e){0==e.state&&t.editModel&&(t.btnEdit=!1,t.$Message.error("名字为空或该名字已存在"),a.style.border="1px solid red",Object(ft["setTimeout"])(function(){a.style.border="1px solid #dcdee2"},2e3))})}),this.zipuploadUrl=rt,this.gameImgurl=nt,this.gameuploadUri=dt,this.getData(),O().then(function(e){"1"===e.state&&(t.classList=e.msg)}),D().then(function(e){"1"===e.state&&(t.tagLists=e.msg)})},methods:{markclick:function(t){this.markid=t.id},prolome:function(){var t=this;q({id:this.markid,tab:this.problemreason_value.join(",")}).then(function(e){"标记成功！"==e.msg?t.$message({message:"标记成功",type:"success"}):t.$message.error("标记失败")}),this.getData(),this.dialogTableVisible=!1},editEvent:function(t){this.editpingtaivalue.push({name:"android",value:t.android}),this.editpingtaivalue.push({name:"ios",value:t.ios}),this.editpingtaivalue.push({name:"wechat",value:t.wechat}),1==t.android&&this.editPTvalue.push("android"),1==t.ios&&this.editPTvalue.push("ios"),1==t.wechat&&this.editPTvalue.push("wechat"),this.labelId=[],this.currentEdit=t,this.editModel=!0,this.typeId=t.type;for(var e=0;e<t.label.length;e++)this.labelId.push(t.label[e].id);this.classId=t.class.id},getpage:function(t){this.totaldatalist=t,this.datacount=this.totaldatalist.length,this.datacount<this.pagesize?this.datalist=this.totaldatalist:this.datalist=this.totaldatalist.slice(0,this.pagesize)},problemList:function(){var t=this;L().then(function(e){t.problemreason=e.msg})},getData:function(){var t=this;this.spinShow=!0,R().then(function(e){if("1"===e.state)if(t.spinShow=!1,"数据为空！"==e.msg)t.getpage("");else{for(var a=e.msg.length,i=0;i<a;i++){-1==t.gametype.indexOf(e.msg[i].class.name)&&t.gametype.push(e.msg[i].class.name);for(var n=e.msg[i].label.length,s=0;s<n;s++)-1==t.gametip.indexOf(e.msg[i].label[s].name)&&t.gametip.push(e.msg[i].label[s].name)}t.getpage(e.msg)}})},connect:function(){this.connectarr=[this.showtype,this.showtip,this.showpingtai];for(var t=0,e=0;e<3;e++)this.connectarr[e]&&t++;t>=2&&(this.connectflag=!0)},connectResult:function(){var t=this,e=[],a=this;R().then(function(i){"1"===i.state&&(t.connectarr[0]&&(e=e.length>0?e.filter(function(t){if(t.class.name==a.connectarr[0])return t}):i.msg.filter(function(t){if(t.class.name==a.connectarr[0])return t})),t.connectarr[1]&&(e=e.length>0?e.filter(function(t){var e=t.label.length;if(e>0)for(var i=0;i<e;i++)if(t.label[i].name==a.connectarr[1])return t}):i.msg.filter(function(t){var e=t.label.length;if(e>0)for(var i=0;i<e;i++)if(t.label[i].name==a.connectarr[1])return t})),t.connectarr[2]&&(e=e.length>0?e.filter(function(t){if("小程序"==a.connectarr[2]){if("1"==t.wechat)return t}else if("安卓"==a.connectarr[2]){if("1"==t.android)return t}else if("ios"==a.connectarr[2]&&"1"==t.ios)return t}):i.msg.filter(function(t){if("小程序"==a.connectarr[2]){if("1"==t.wechat)return t}else if("安卓"==a.connectarr[2]){if("1"==t.android)return t}else if("ios"==a.connectarr[2]&&"1"==t.ios)return t})),t.getpage(e))})},allgame:function(){var t=this;this.searchvalue="",this.pageindex=1,R().then(function(e){t.showtype="",t.showtip="",t.showpingtai="",t.connect(),t.connectflag=!1,"1"===e.state&&(t.getpage(e.msg),t.spinShow=!1)})},selectpigntai:function(t){var e=this;this.pageindex=1,this.showpingtai=t,this.connect(),this.connectflag?this.connectResult():R().then(function(a){if("1"===a.state){var i=a.msg.filter(function(e){if("小程序"==t){if("1"==e.wechat)return e}else if("安卓"==t){if("1"==e.android)return e}else if("ios"==t&&"1"==e.ios)return e});e.getpage(i)}})},selecttype:function(t){var e=this;this.pageindex=1,this.showtype=t,this.connect(),this.connectflag?this.connectResult():R().then(function(a){if("1"===a.state){var i=a.msg.filter(function(e){if(e.class.name==t)return e});e.getpage(i)}})},selecttip:function(t){var e=this;this.pageindex=1,this.showtip=t,this.connect(),this.connectflag?this.connectResult():R().then(function(a){if("1"===a.state){var i=a.msg.filter(function(e){var a=e.label.length;if(a>0)for(var i=0;i<a;i++)if(e.label[i].name==t)return e});e.getpage(i)}})},search:function(t){var e=this;this.pageindex=1,t?R().then(function(a){if("1"===a.state){var i=a.msg.filter(function(e){if(0==e.name.indexOf(t)&&e.name.length==t.length)return e});i.length>0?(e.showtype="",e.showtip="",e.showpingtai="",e.connect(),e.connectflag=!1,e.getpage(i)):e.$Message.warning("没有找到匹配结果")}}):this.$Message.warning("请输入搜索内容")},changepage:function(t){var e=(t-1)*this.pagesize,a=t*this.pagesize;this.datalist=this.totaldatalist.slice(e,a);document.documentElement.scrollTop||document.body.scrollTop;this.$refs.marilyn_tab.scrollTop},uploadSuccess:function(t,e){},handleUpload:function(t){var e=this,a=new FileReader;new Image;a.readAsDataURL(t),a.onload=function(){e.marilynNewImg=this.result},this.file=t},zipUpload:function(t){var e=this;this.zipfileUrl="";var a=document.querySelector("#btn"),i=document.querySelector("#btn_edit");a.disabled=!0,i.disabled=!0;var n=0,s=Object(ft["setInterval"])(function(){if(n++,e.uploadtitle="已上传"+n+"%",e.zipfileUrl&&(e.uploadtitle="上传完成",a.disabled=!1,i.disabled=!1,Object(ft["clearTimeout"])(s)),99==n){Object(ft["clearTimeout"])(s);var t=Object(ft["setInterval"])(function(){e.uploadtitle="已上传99%",e.zipfileUrl&&(e.uploadtitle="上传完成",a.disabled=!1,i.disabled=!1,Object(ft["clearTimeout"])(t))},100)}},700);if(t.type.indexOf("zip")>-1){this.uploaded=!0,this.zipfile=t;var l=new FormData,r={method:"post",body:l};l.append("file",this.zipfile),fetch(rt,r).then(function(t){return t.json()}).then(function(t){"1"===t.state&&(e.zipfileUrl=t.msg)})}},modifyUpload:function(t){this.currentImg=t.currentTarget.files[0];var e=new FileReader;new Image;e.readAsDataURL(this.currentImg),e.onload=function(t){document.querySelector(".curtimg").src=t.target.result}},addGame:function(){var t=this,e=new FormData;this.pingtaivalue.length>0&&(this.pingtaivalue.indexOf("2")>-1?e.append("android","1"):e.append("android","0"),this.pingtaivalue.indexOf("1")>-1?e.append("ios","1"):e.append("ios","0"),this.pingtaivalue.indexOf("0")>-1?e.append("wechat","1"):e.append("wechat","0")),"0"==this.marilynType&&(this.marilynUrl=this.zipfileUrl),e.append("file",this.file),e.append("name",this.marilynName),e.append("alias",this.marilynAlias),e.append("url",this.marilynUrl),e.append("cId",this.marilynSelect),this.marilynTag&&e.append("label",this.marilynTag.join(",")),e.append("type",this.marilynType),e.append("screen",this.marilyndir),e.append("recommend",this.marilyncom),e.append("weight",this.marilynnum);var a={method:"post",body:e};fetch(dt,a).then(function(t){return t.json()}).then(function(e){"1"===e.state?(t.$Message.success(e.msg),t.file="",t.marilynName="",t.marilynAlias="",t.marilynUrl="",t.marilynSelect="",t.marilynTag="",t.marilynNewImg="",t.getData(),t.addCard=!1):t.$Message.error(e.msg)})},toolDelete:function(){var t=this;$({id:this.currentDelete}).then(function(e){"1"===e.state?(t.deleteModel=!1,t.$Message.success(e.msg),t.getData()):t.$Message.error(e.msg)})},toolEdit:function(){var t=this,e=new FormData;this.editPTvalue.indexOf("android")>-1?e.append("android","1"):e.append("android","0"),this.editPTvalue.indexOf("ios")>-1?e.append("ios","1"):e.append("ios","0"),this.editPTvalue.indexOf("wechat")>-1?e.append("wechat","1"):e.append("wechat","0"),this.currentImg&&e.append("file",this.currentImg),e.append("id",this.currentEdit.id),e.append("name",this.currentEdit.name),e.append("alias",this.currentEdit.alias),e.append("cId",this.classId),e.append("label",this.labelId.join(",")),e.append("type",this.typeId),e.append("url",this.currentEdit.url),e.append("recommend",this.currentEdit.recommend),e.append("screen",this.currentEdit.screen),e.append("weight",this.currentEdit.weight);var a={method:"post",body:e};fetch(ct,a).then(function(t){return t.json()}).then(function(e){"1"===e.state?(t.editModel=!1,t.$Message.success(e.msg),t.getData()):t.$Message.error(e.msg)})}},watch:{marilynType:function(t){0!=t?document.querySelector(".btn").disabled=!1:"上传完成"!=this.uploadtitle&&(document.querySelector(".btn").disabled=!0)},addCard:function(t){this.btnAdd=!0},editModel:function(t){this.btnEdit=!0,t||(this.editPTvalue=[],this.editpingtaivalue=[])}}},$t=Lt,Gt=(a("8433"),Object(u["a"])($t,Bt,qt,!1,null,"1cdf664c",null));Gt.options.__file="Games.vue";var Pt=Gt.exports,Wt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"content",staticClass:"content"},[a("div",{staticClass:"main"},[a("p",[t._v("cicigirl后台")]),a("Form",{ref:"formItem",attrs:{model:t.formItem,rules:t.formItem}},[a("FormItem",{attrs:{prop:"name"}},[a("Col",{attrs:{span:"24"}},[a("Input",{attrs:{type:"text",placeholder:"请输入账号"},nativeOn:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.handleSubmit()}},model:{value:t.formItem.name,callback:function(e){t.$set(t.formItem,"name",e)},expression:"formItem.name"}},[a("Icon",{attrs:{slot:"prepend",type:"ios-person-outline"},slot:"prepend"})],1)],1)],1),a("FormItem",{attrs:{prop:"password"}},[a("Col",{attrs:{span:"24"}},[a("Input",{attrs:{type:"password",placeholder:"请输入密码"},nativeOn:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.handleSubmit()}},model:{value:t.formItem.password,callback:function(e){t.$set(t.formItem,"password",e)},expression:"formItem.password"}},[a("Icon",{attrs:{slot:"prepend",type:"ios-lock-outline"},slot:"prepend"})],1)],1)],1),a("FormItem",{attrs:{prop:"Code"}},[a("Col",{attrs:{span:"14"}},[a("Input",{attrs:{type:"text",placeholder:"请输入验证码"},nativeOn:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.handleSubmit()}},model:{value:t.formItem.code,callback:function(e){t.$set(t.formItem,"code",e)},expression:"formItem.code"}},[a("Icon",{attrs:{slot:"prepend",type:"ios-lock-outline"},slot:"prepend"})],1)],1),a("Col",{attrs:{span:"2",offset:"1"}},[a("img",{ref:"imgs",attrs:{src:t.yanzhengcode,alt:""},on:{click:t.refresh}})])],1),a("FormItem",{staticStyle:{"text-align":"center"}},[a("Button",{attrs:{long:"",type:"primary"},on:{click:t.handleSubmit}},[t._v("登录")])],1)],1)],1)])},Qt=[],Ft={data:function(){return{yanzhengPic:"",formItem:{name:"",password:"",code:""},yanzhengcode:""}},methods:{refresh:function(){this.$refs.imgs.src=this.yanzhengcode},handleSubmit:function(){var t=this;localStorage.setItem("loginName",this.formItem.name);var e=this;G(this.formItem).then(function(a){1==a.state?(t.$Message.success("登录成功"),setTimeout(function(){e.$router.push({name:"marilyn"})},700)):(t.$Message.error("登录失败"),t.formItem.code="",t.$refs.imgs.src=t.yanzhengcode)})}},mounted:function(){var t=this;this.yanzhengcode=ot,W().then(function(e){1==e.state&&t.$router.push({name:"marilyn"})})}},Jt=Ft,Zt=(a("930c"),Object(u["a"])(Jt,Wt,Qt,!1,null,"8aa53dcc",null));Zt.options.__file="Login.vue";var Vt=Zt.exports,Kt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"recommend"},[a("Button",{staticClass:"addbtn",attrs:{type:"primary"},on:{click:function(e){t.addflag=!0}}},[t._v("添加游戏")]),a("Table",{staticClass:"table",attrs:{loading:t.tableloading,stripe:"",border:"",columns:t.columns,data:t.pagedata}}),a("Page",{staticStyle:{"text-align":"center","margin-top":"10px"},attrs:{total:t.total,"page-size":t.pagesize},on:{"on-change":t.pagechange}}),a("Modal",{attrs:{width:"600"},model:{value:t.addflag,callback:function(e){t.addflag=e},expression:"addflag"}},[a("p",{staticStyle:{"text-align":"center"},attrs:{slot:"header"},slot:"header"},[a("span",[t._v("添加游戏")])]),a("div",{staticClass:"addgame"},[t._v("\n      名称:\n      "),a("Input",{staticStyle:{width:"400px"},attrs:{placeholder:"请输入游戏名称..."},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1),a("div",{staticClass:"addgame"},[t._v("\n      bundle:\n      "),a("Input",{staticStyle:{width:"400px"},attrs:{placeholder:"请输入游戏标识..."},model:{value:t.bundle,callback:function(e){t.bundle=e},expression:"bundle"}})],1),a("div",{staticClass:"addgame"},[t._v("\n      版本:\n      "),a("Input",{staticStyle:{width:"400px"},attrs:{placeholder:"请输入游戏版本..."},model:{value:t.version,callback:function(e){t.version=e},expression:"version"}})],1),a("div",{staticClass:"addgame"},[t._v("\n      平台:\n      "),a("Select",{staticStyle:{width:"400px"},model:{value:t.platform,callback:function(e){t.platform=e},expression:"platform"}},t._l(t.platformarr,function(e){return a("Option",{key:e.id,attrs:{value:e.platform}},[t._v(t._s(e.name))])}))],1),a("div",{staticClass:"addgame"},[a("Upload",{staticStyle:{margin:"0 40px"},attrs:{"before-upload":t.handleUpload,type:"drag",action:"//jsonplaceholder.typicode.com/posts/"}},[a("div",{staticStyle:{padding:"20px 0"}},[a("Icon",{staticStyle:{color:"#3399ff"},attrs:{type:"ios-cloud-upload",size:"52"}}),a("p",[t._v("点击此处上传你的头像")])],1),a("img",{staticClass:"upload_image",attrs:{src:t.uploadsrc,alt:""}})])],1),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{type:"primary",size:"large",long:""},on:{click:t.addGame}},[t._v("添加")])],1)]),a("Modal",{attrs:{width:"600"},model:{value:t.editflag,callback:function(e){t.editflag=e},expression:"editflag"}},[a("p",{staticStyle:{"text-align":"center"},attrs:{slot:"header"},slot:"header"},[a("span",[t._v("修改游戏")])]),a("div",{staticClass:"addgame"},[t._v("\n      名称:\n      "),a("Input",{staticStyle:{width:"400px"},attrs:{placeholder:"请输入游戏名称..."},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1),a("div",{staticClass:"addgame"},[t._v("\n      bundle:\n      "),a("Input",{staticStyle:{width:"400px"},attrs:{placeholder:"请输入游戏标识..."},model:{value:t.bundle,callback:function(e){t.bundle=e},expression:"bundle"}})],1),a("div",{staticClass:"addgame"},[t._v("\n      版本:\n      "),a("Input",{staticStyle:{width:"400px"},attrs:{placeholder:"请输入游戏版本..."},model:{value:t.version,callback:function(e){t.version=e},expression:"version"}})],1),a("div",{staticClass:"addgame"},[t._v("\n      平台:\n      "),a("Select",{staticStyle:{width:"400px"},model:{value:t.platform,callback:function(e){t.platform=e},expression:"platform"}},t._l(t.platformarr,function(e){return a("Option",{key:e.id,attrs:{value:e.platform}},[t._v(t._s(e.name))])}))],1),a("div",{staticClass:"addgame"},[a("Upload",{staticStyle:{margin:"0 40px"},attrs:{"before-upload":t.handleUpload,type:"drag",action:"//jsonplaceholder.typicode.com/posts/"}},[a("div",{staticStyle:{padding:"20px 0"}},[a("Icon",{staticStyle:{color:"#3399ff"},attrs:{type:"ios-cloud-upload",size:"52"}}),a("p",[t._v("点击此处上传你的头像")])],1),a("img",{staticClass:"upload_image",attrs:{src:t.uploadsrc,alt:""}})])],1),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{type:"primary",size:"large",long:""},on:{click:t.editGame}},[t._v("修改")])],1)])],1)},Xt=[],Ht=(a("3022"),{data:function(){var t=this;return{editflag:!1,addflag:!1,uploadsrc:"",id:"",name:"",bundle:"",version:"",icon:null,platform:"",platformarr:[],columns:[{title:"ID",key:"id",width:80},{title:"图像",key:"icon",width:80,render:function(t,e){return t("div",[t("Avatar",{props:{shape:"square",src:gt+e.row.icon}})])}},{title:"名称",key:"name",width:150},{title:"版本",key:"version",width:150},{title:"Bundle",key:"bundle"},{title:"平台",key:"platform"},{title:"操作",key:"action",align:"center",render:function(e,a){return e("div",[e("Button",{props:{type:"primary",size:"small"},style:{marginRight:"5px"},on:{click:function(){t.editflag=!0,console.log(a.row),t.id=a.row.id,t.name=a.row.name,t.bundle=a.row.bundle,t.version=a.row.version,t.uploadsrc=gt+a.row.icon,t.platform=a.row.platform}}},"修改")])}}],gamedata:[],total:0,pagesize:5,tableloading:!1,pagedata:[]}},watch:{editflag:function(t){t||(this.id="",this.name="",this.bundle="",this.version="",this.icon=null,this.platform="",this.uploadsrc="")},addflag:function(t){t||(this.id="",this.name="",this.bundle="",this.version="",this.icon=null,this.platform="",this.uploadsrc="")}},mounted:function(){this.getdata()},methods:{getdata:function(){var t=this;this.tableloading=!0,K().then(function(e){t.tableloading=!1,t.total=e.msg.length,t.gamedata=e.msg,t.pagedata=t.gamedata.slice(0,t.pagesize)}),X().then(function(e){t.platformarr=e.msg})},pagechange:function(t){var e=(t-1)*this.pagesize,a=t*this.pagesize;this.pagedata=this.gamedata.slice(e,a)},handleUpload:function(t){var e=this,a=new FileReader;new Image;a.readAsDataURL(t),a.onload=function(){e.uploadsrc=this.result},this.icon=t},editGame:function(){var t=this;if(this.bundle.length>0&&this.name.length>0&&this.version.length>0&&this.platform.length>0){var e=new FormData;e.append("id",this.id),e.append("bundle",this.bundle),e.append("name",this.name),e.append("version",this.version),e.append("platform",this.platform),this.icon&&e.append("icon",this.icon);var a={method:"post",body:e};fetch(ut,a).then(function(t){return t.json()}).then(function(e){"1"===e.state?(t.editflag=!1,t.$Message.success(e.msg),t.getdata()):t.$Message.error(e.msg)})}else this.$Message.error("修改失败")},addGame:function(){var t=this;if(this.bundle.length>0&&this.name.length>0&&this.version.length>0&&this.platform.length>0&&this.icon){var e=new FormData;e.append("bundle",this.bundle),e.append("name",this.name),e.append("version",this.version),e.append("platform",this.platform),e.append("icon",this.icon);var a={method:"post",body:e};fetch(pt,a).then(function(t){return t.json()}).then(function(e){"1"===e.state?(t.addflag=!1,t.$Message.success(e.msg),t.getdata()):t.$Message.error(e.msg)})}else this.$Message.error("添加失败")}}}),Yt=Ht,te=(a("d842"),Object(u["a"])(Yt,Kt,Xt,!1,null,"8a265898",null));te.options.__file="Recom_game.vue";var ee=te.exports,ae=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"recommend"},[a("Button",{staticClass:"addbtn",attrs:{type:"primary"},on:{click:function(e){t.addflag=!0}}},[t._v("添加平台")]),a("Table",{staticClass:"table",attrs:{loading:t.tableloading,stripe:"",border:"",columns:t.columns,data:t.gamedata}}),a("Modal",{attrs:{width:"600"},model:{value:t.addflag,callback:function(e){t.addflag=e},expression:"addflag"}},[a("p",{staticStyle:{"text-align":"center"},attrs:{slot:"header"},slot:"header"},[a("span",[t._v("添加平台")])]),a("div",{staticClass:"addgame"},[t._v("\n      名称:\n      "),a("Input",{staticStyle:{width:"400px"},attrs:{placeholder:"请输入平台名称..."},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1),a("div",{staticClass:"addgame"},[t._v("\n      平台标识:\n      "),a("Input",{staticStyle:{width:"400px"},attrs:{placeholder:"请输入平台英文名称..."},model:{value:t.platform,callback:function(e){t.platform=e},expression:"platform"}})],1),a("div",{staticClass:"addgame"},[t._v("\n      序号:\n      "),a("Input",{staticStyle:{width:"400px"},attrs:{placeholder:"请输入序号,不输入默认为0..."},model:{value:t.sort,callback:function(e){t.sort=e},expression:"sort"}})],1),a("div",{staticClass:"addgame"},[t._v("\n      备注:\n      "),a("Input",{staticStyle:{width:"400px"},attrs:{placeholder:"请输入备注(可不填)..."},model:{value:t.note,callback:function(e){t.note=e},expression:"note"}})],1),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{type:"primary",size:"large",long:""},on:{click:t.addPlatform}},[t._v("添加")])],1)]),a("Modal",{attrs:{width:"600"},model:{value:t.editflag,callback:function(e){t.editflag=e},expression:"editflag"}},[a("p",{staticStyle:{"text-align":"center"},attrs:{slot:"header"},slot:"header"},[a("span",[t._v("修改平台")])]),a("div",{staticClass:"addgame"},[t._v("\n      名称:\n      "),a("Input",{staticStyle:{width:"400px"},attrs:{placeholder:"请输入平台名称..."},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1),a("div",{staticClass:"addgame"},[t._v("\n      平台标识:\n      "),a("Input",{staticStyle:{width:"400px"},attrs:{placeholder:"请输入平台英文名称..."},model:{value:t.platform,callback:function(e){t.platform=e},expression:"platform"}})],1),a("div",{staticClass:"addgame"},[t._v("\n      序号:\n      "),a("Input",{staticStyle:{width:"400px"},attrs:{placeholder:"请输入序号,不输入默认为0..."},model:{value:t.sort,callback:function(e){t.sort=e},expression:"sort"}})],1),a("div",{staticClass:"addgame"},[t._v("\n      备注:\n      "),a("Input",{staticStyle:{width:"400px"},attrs:{placeholder:"请输入备注(可不填)..."},model:{value:t.note,callback:function(e){t.note=e},expression:"note"}})],1),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{type:"primary",size:"large",long:""},on:{click:t.editPlatform}},[t._v("添加")])],1)])],1)},ie=[],ne=(a("55dd"),{data:function(){var t=this;return{addflag:!1,editflag:!1,id:"",name:"",platform:"",sort:null,note:null,columns:[{title:"名称",key:"name"},{title:"平台标识",key:"platform"},{title:"操作",key:"action",align:"center",render:function(e,a){return e("div",[e("Button",{props:{type:"primary",size:"small"},style:{marginRight:"5px"},on:{click:function(){t.editflag=!0,t.id=a.row.id,t.name=a.row.name,t.platform=a.row.platform,t.sort=a.row.sort,t.note=a.row.note}}},"修改")])}}],gamedata:[],tableloading:!1}},watch:{editflag:function(t){t||(this.id="",this.name="",this.platform="",this.sort=null,this.note=null)},addflag:function(t){t||(this.id="",this.name="",this.platform="",this.sort=null,this.note=null)}},mounted:function(){this.getdata()},methods:{getdata:function(){var t=this;this.tableloading=!0,X().then(function(e){t.tableloading=!1,t.gamedata=e.msg})},addPlatform:function(){var t=this;this.platform.length>0&&this.name.length>0?H({platform:this.platform,name:this.name,sort:this.sort?this.sort:0,note:this.note?this.note:null}).then(function(e){1==e.state?(t.addflag=!1,t.getdata(),t.$Message.success(e.msg)):t.$Message.error(e.msg)}):this.$Message.error("添加失败")},editPlatform:function(){var t=this;this.platform.length>0&&this.name.length>0?Y({id:this.id,platform:this.platform,name:this.name,sort:this.sort?this.sort:0,note:this.note?this.note:null}).then(function(e){1==e.state?(t.editflag=!1,t.getdata(),t.$Message.success(e.msg)):t.$Message.error(e.msg)}):this.$Message.error("修改失败")}}}),se=ne,le=(a("c23f"),Object(u["a"])(se,ae,ie,!1,null,"3b30716e",null));le.options.__file="Recom_platform.vue";var re=le.exports,oe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"recommend"},[a("img",{staticClass:"erweima",attrs:{src:"https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1573195367472&di=bceec95e129b034b431ca62b2356c8c2&imgtype=0&src=http%3A%2F%2Fpic34.nipic.com%2F20131030%2F2455348_194508648000_2.jpg",alt:""}}),a("div",{staticClass:"select"},[a("Dropdown",{staticStyle:{"margin-left":"20px"}},[a("Button",{staticStyle:{width:"100px"},attrs:{type:"primary"}},[t._v("\n        "+t._s(t.selectplatname.length>0?t.selectplatname:"选择平台")+"\n        "),a("Icon",{attrs:{type:"ios-arrow-down"}})],1),a("DropdownMenu",{staticClass:"xialai",attrs:{slot:"list"},slot:"list"},t._l(t.platformarr,function(e){return a("DropdownItem",[a("span",{on:{click:function(a){t.selectPlat(e.platform,e.name)}}},[t._v(t._s(e.name))])])}))],1),a("Button",{staticClass:"addbtn",attrs:{type:"primary"},on:{click:t.getallgame}},[t._v("全部游戏")]),a("Button",{staticClass:"addbtn",attrs:{type:"primary"},on:{click:function(e){t.addflag=!0,t.platformflag=!1}}},[t._v("添加推荐游戏")])],1),a("Table",{staticClass:"table",attrs:{loading:t.tableloading,stripe:"",border:"",columns:t.columns,data:t.pagedata}}),a("Page",{staticStyle:{"text-align":"center","margin-top":"10px"},attrs:{current:t.pageindex,total:t.total,"page-size":t.pagesize},on:{"update:current":function(e){t.pageindex=e},"on-change":t.pagechange}}),a("Modal",{attrs:{width:"800"},model:{value:t.addflag,callback:function(e){t.addflag=e},expression:"addflag"}},[a("p",{staticStyle:{"text-align":"center"},attrs:{slot:"header"},slot:"header"},[a("span",[t._v("添加推荐游戏")])]),a("div",{staticClass:"addgame"},[t._v("\n      选择游戏:\n      "),a("Select",{staticStyle:{width:"500px"},on:{"on-change":t.selectGame},model:{value:t.re_game_id,callback:function(e){t.re_game_id=e},expression:"re_game_id"}},t._l(t.gamearr,function(e){return a("Option",{key:e.id,attrs:{value:parseInt(e.id)}},[t._v(t._s(e.name))])}))],1),a("div",{staticClass:"addgame"},[t._v("\n      选择平台:\n      "),a("Select",{staticStyle:{width:"500px"},attrs:{disabled:t.platformflag},on:{"on-change":t.selectPlatform},model:{value:t.platform,callback:function(e){t.platform=e},expression:"platform"}},t._l(t.platformarr,function(e){return a("Option",{key:e.id,attrs:{value:e.platform}},[t._v(t._s(e.name))])}))],1),a("div",{directives:[{name:"show",rawName:"v-show",value:t.infocontent,expression:"infocontent"}],staticClass:"addgame"},[t._v("\n      应用商店地址:\n      "),a("Input",{staticStyle:{width:"500px"},attrs:{placeholder:"应用商店地址和落地页地址请至少填写一个..."},model:{value:t.store_url,callback:function(e){t.store_url=e},expression:"store_url"}})],1),a("div",{directives:[{name:"show",rawName:"v-show",value:t.infocontent,expression:"infocontent"}],staticClass:"addgame"},[t._v("\n      落地页地址:\n      "),a("Input",{staticStyle:{width:"500px"},attrs:{placeholder:"应用商店地址和落地页地址请至少填写一个..."},model:{value:t.url,callback:function(e){t.url=e},expression:"url"}})],1),a("div",{directives:[{name:"show",rawName:"v-show",value:!t.infocontent,expression:"!infocontent"}],staticClass:"addgame"},[t._v("\n      平台唯一标识:\n      "),a("Input",{staticStyle:{width:"500px"},attrs:{placeholder:"请输入平台唯一标识..."},model:{value:t.appid,callback:function(e){t.appid=e},expression:"appid"}})],1),a("div",{directives:[{name:"show",rawName:"v-show",value:!t.infocontent,expression:"!infocontent"}],staticClass:"addgame"},[a("Upload",{staticStyle:{margin:"0 40px"},attrs:{"on-success":t.handleUpload,type:"drag",action:t.uploadqrcodeurl}},[a("div",{staticStyle:{padding:"20px 0"}},[a("Icon",{staticStyle:{color:"#3399ff"},attrs:{type:"ios-cloud-upload",size:"52"}}),a("p",[t._v("点击此处上传二维码图片")])],1)]),a("p",[t._v("二维码地址:"+t._s(t.qrcode_url.length>0?t.pinjieUrl+t.qrcode_url:""))])],1),a("div",{staticClass:"addgame"},[t._v("\n      指定游戏推荐:\n      "),a("Select",{staticStyle:{width:"500px"},model:{value:t.game_id,callback:function(e){t.game_id=e},expression:"game_id"}},t._l(t.zhidinggamearr,function(e){return a("Option",{key:e.id,attrs:{value:parseInt(e.id)}},[t._v(t._s(e.name))])})),a("p",{staticStyle:{color:"#D1D1D1"}},[t._v("*不选默认为全部推荐")])],1),a("div",{staticClass:"addgame"},[t._v("\n      游戏排序:\n      "),a("Input",{staticStyle:{width:"500px"},attrs:{placeholder:"默认为0,输入整数为推荐顺序"},model:{value:t.sort,callback:function(e){t.sort=e},expression:"sort"}})],1),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{type:"primary",size:"large",long:""},on:{click:t.addRecomGame}},[t._v("添加")])],1)]),a("Modal",{attrs:{width:"800"},model:{value:t.editflag,callback:function(e){t.editflag=e},expression:"editflag"}},[a("p",{staticStyle:{"text-align":"center"},attrs:{slot:"header"},slot:"header"},[a("span",[t._v("修改推荐游戏")])]),a("div",{staticClass:"addgame"},[t._v("\n      选择游戏:\n      "),a("Select",{staticStyle:{width:"500px"},on:{"on-change":t.selectGame},model:{value:t.re_game_id,callback:function(e){t.re_game_id=e},expression:" re_game_id"}},t._l(t.gamearr,function(e){return a("Option",{key:e.id,attrs:{value:parseInt(e.id)}},[t._v(t._s(e.name))])}))],1),a("div",{staticClass:"addgame"},[t._v("\n      选择平台:\n      "),a("Select",{staticStyle:{width:"500px"},attrs:{disabled:""},on:{"on-change":t.selectPlatform},model:{value:t.platform,callback:function(e){t.platform=e},expression:"platform"}},t._l(t.platformarr,function(e){return a("Option",{key:e.id,attrs:{value:e.platform}},[t._v(t._s(e.name))])}))],1),a("div",{directives:[{name:"show",rawName:"v-show",value:t.infocontent,expression:"infocontent"}],staticClass:"addgame"},[t._v("\n      应用商店地址:\n      "),a("Input",{staticStyle:{width:"500px"},attrs:{placeholder:"应用商店地址和落地页地址请至少填写一个..."},model:{value:t.store_url,callback:function(e){t.store_url=e},expression:"store_url"}})],1),a("div",{directives:[{name:"show",rawName:"v-show",value:t.infocontent,expression:"infocontent"}],staticClass:"addgame"},[t._v("\n      落地页地址:\n      "),a("Input",{staticStyle:{width:"500px"},attrs:{placeholder:"应用商店地址和落地页地址请至少填写一个..."},model:{value:t.url,callback:function(e){t.url=e},expression:"url"}})],1),a("div",{directives:[{name:"show",rawName:"v-show",value:!t.infocontent,expression:"!infocontent"}],staticClass:"addgame"},[t._v("\n      平台唯一标识:\n      "),a("Input",{staticStyle:{width:"500px"},attrs:{placeholder:"请输入平台唯一标识..."},model:{value:t.appid,callback:function(e){t.appid=e},expression:"appid"}})],1),a("div",{directives:[{name:"show",rawName:"v-show",value:!t.infocontent,expression:"!infocontent"}],staticClass:"addgame"},[a("Upload",{staticStyle:{margin:"0 40px"},attrs:{"on-success":t.handleUpload,type:"drag",action:t.uploadqrcodeurl}},[a("div",{staticStyle:{padding:"20px 0"}},[a("Icon",{staticStyle:{color:"#3399ff"},attrs:{type:"ios-cloud-upload",size:"52"}}),a("p",[t._v("点击此处上传新的二维码图片")])],1)]),a("p",[t._v("二维码地址:"+t._s(t.pinjieUrl+t.qrcode_url))])],1),a("div",{staticClass:"addgame"},[t._v("\n      指定游戏推荐:\n      "),a("Select",{staticStyle:{width:"500px"},model:{value:t.game_id,callback:function(e){t.game_id=e},expression:"game_id"}},t._l(t.zhidinggamearr,function(e){return a("Option",{key:e.id,attrs:{value:parseInt(e.id)}},[t._v(t._s(e.name))])})),a("p",{staticStyle:{color:"#D1D1D1"}},[t._v("*不选默认为全部推荐")])],1),a("div",{staticClass:"addgame"},[t._v("\n      游戏排序:\n      "),a("Input",{staticStyle:{width:"500px"},attrs:{placeholder:"默认为0,输入整数为推荐顺序"},model:{value:t.sort,callback:function(e){t.sort=e},expression:"sort"}})],1),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{type:"primary",size:"large",long:""},on:{click:t.editRecomGame}},[t._v("修改")])],1)])],1)},de=[],ce={data:function(){var t=this;return{addflag:!1,editflag:!1,platformflag:!1,selectplatname:"",pageindex:1,uploadsrc:"",name:"",bundle:"",version:"",icon:null,columns:[{title:"ID",key:"id",width:80},{title:"图像",key:"re_icon",width:80,render:function(t,e){return t("div",[t("Avatar",{props:{shape:"square",src:gt+e.row.re_icon}})])}},{title:"推荐游戏名称",key:"re_game_name",width:120},{title:"平台",key:"platform",width:150,render:function(t,e){return t("div",[t("p",e.row.platform+"("+e.row.platform_name+")")])}},{title:"指定游戏推荐名称",key:"game_name",render:function(t,e){return t("div",[t("p",0==e.row.game_id?"全部":e.row.game_name)])}},{title:"推荐游戏信息",key:"re_info",width:250,render:function(t,e){return"4399"==e.row.platform||"myapp"==e.row.platform||"oppo"==e.row.platform||"android"==e.row.platform?t("div",[t("p","应用商店地址:"+e.row.re_info["store_url"]),t("p","落地页地址:"+e.row.re_info["url"])]):t("div",[t("img",{attrs:{style:"width: 50px;height:50px;margin:5px",src:gt+e.row.re_info["qrcode_url"]},on:{mouseover:function(){document.querySelector(".erweima").style.display="block",document.querySelector(".erweima").src=gt+e.row.re_info["qrcode_url"]},mouseleave:function(){document.querySelector(".erweima").style.display="none"}}}),t("p","平台标识:"+e.row.re_info["appid"])])}},{title:"操作",key:"action",width:150,align:"center",render:function(e,a){return e("div",[e("Button",{props:{type:"primary",size:"small"},style:{marginRight:"5px"},on:{click:function(){t.editflag=!0,t.re_id=a.row.id,t.platform=a.row.platform,t.re_game_id=parseInt(a.row.re_game_id),t.game_id=a.row.game_id,t.zhidinggamearr=t.gamearr.filter(function(e){return e.id!=t.re_game_id});var e=[{name:"全部",id:0}];t.zhidinggamearr=e.concat(t.zhidinggamearr),"4399"==a.row.platform||"myapp"==a.row.platform||"oppo"==a.row.platform||"android"==a.row.platform?(t.infocontent=!0,t.store_url=a.row.re_info["store_url"],t.url=a.row.re_info["url"]):(t.infocontent=!1,t.appid=a.row.re_info["appid"],t.qrcode_url=a.row.re_info["qrcode_url"])}}},"修改"),e("Button",{props:{type:"error",size:"small"},on:{click:function(){t.$Modal.confirm({title:"提示",content:"<p>你确定要删除吗?</p>",onOk:function(){t.deleteRecomGame(a.row.id)},onCancel:function(){}})}}},"删除")])}}],gamedata:[],total:0,pagesize:10,tableloading:!1,pagedata:[],allgamedata:[],allpagedata:[],gamearr:[],platformarr:[],zhidinggamearr:[],infocontent:!0,re_id:null,platform:null,re_game_id:null,info:[],game_id:null,sort:null,store_url:"",url:"",appid:"",qrcode_url:"",uploadqrcodeurl:"",pinjieUrl:""}},watch:{editflag:function(t){t||(this.platform=null,this.re_game_id=null,this.info=[],this.game_id=null,this.store_url="",this.url="",this.appid="",this.qrcode_url="",this.zhidinggamearr=[],this.infocontent=!0,this.sort=null)},addflag:function(t){this.infocontent=!0,t||(this.platform=null,this.re_game_id=null,this.info=[],this.game_id=null,this.store_url="",this.url="",this.appid="",this.qrcode_url="",this.zhidinggamearr=[],this.sort=null)}},mounted:function(){this.getdata(),this.uploadqrcodeurl=mt,this.pinjieUrl=gt},methods:{getpage:function(t){this.pageindex=1,this.total=t.length,this.allgamedata=t,this.pagedata=this.allgamedata.slice(0,this.pagesize)},getdata:function(){var t=this;this.selectplatname="",this.tableloading=!0,tt().then(function(e){t.tableloading=!1,t.allpagedata=e.msg,t.getpage(e.msg)}),K().then(function(e){t.gamearr=e.msg}),X().then(function(e){t.platformarr=e.msg})},pagechange:function(t){var e=(t-1)*this.pagesize,a=t*this.pagesize;this.pagedata=this.allgamedata.slice(e,a)},handleUpload:function(t){"1"==t.state?this.qrcode_url=t.msg:this.$Message.error(t.msg)},selectGame:function(t){var e=this;this.gamearr.map(function(a){if(a.id==t)return e.platform=a.platform,void("4399"==e.platform||"myapp"==e.platform||"oppo"==e.platform||"android"==e.platform?e.infocontent=!0:e.infocontent=!1)}),this.platformflag=!0,this.zhidinggamearr=this.gamearr.filter(function(e){return e.id!=t});var a=[{name:"全部",id:0}];this.zhidinggamearr=a.concat(this.zhidinggamearr)},selectPlatform:function(t){this.infocontent="4399"==t||"myapp"==t||"oppo"==t||"android"==t},selectPlat:function(t,e){this.selectplatname=e,this.getpage(this.allpagedata.filter(function(e){return e.platform==t}))},getallgame:function(){this.selectplatname="",this.getpage(this.allpagedata)},addRecomGame:function(){var t=this;this.platform&&this.re_game_id?this.infocontent?this.store_url.length||this.url.length?(this.info=[{store_url:this.store_url},{url:this.url}],et({platform:this.platform,re_game_id:this.re_game_id,info:this.info,game_id:this.game_id?this.game_id:0,sort:this.sort?this.sort:0}).then(function(e){1==e.state?(t.$Message.success(e.msg),t.getdata(),t.addflag=!1):t.$Message.error(e.msg)})):this.$Message.error("信息不完整"):this.appid.length>0&&this.qrcode_url.length>0?(this.info=[{appid:this.appid},{qrcode_url:this.qrcode_url}],et({platform:this.platform,re_game_id:this.re_game_id,info:this.info,game_id:this.game_id?this.game_id:0,sort:this.sort?this.sort:0}).then(function(e){1==e.state?(t.$Message.success(e.msg),t.getdata(),t.addflag=!1):t.$Message.error(e.msg)})):this.$Message.error("信息不完整"):this.$Message.error("信息不完整")},editRecomGame:function(){var t=this;this.platform&&this.re_game_id?this.infocontent?this.store_url.length||this.url.length?(this.info=[{store_url:this.store_url},{url:this.url}],at({re_id:parseInt(this.re_id),platform:this.platform,re_game_id:this.re_game_id,info:this.info,game_id:this.game_id?this.game_id:0,sort:this.sort?this.sort:0}).then(function(e){1==e.state?(t.$Message.success(e.msg),t.getdata(),t.editflag=!1):t.$Message.error(e.msg)})):this.$Message.error("信息不完整"):this.appid.length>0&&this.qrcode_url.length>0?(this.info=[{appid:this.appid},{qrcode_url:this.qrcode_url}],at({re_id:parseInt(this.re_id),platform:this.platform,re_game_id:this.re_game_id,info:this.info,game_id:this.game_id?this.game_id:0,sort:this.sort?this.sort:0}).then(function(e){1==e.state?(t.$Message.success(e.msg),t.getdata(),t.editflag=!1):t.$Message.error(e.msg)})):this.$Message.error("信息不完整"):this.$Message.error("信息不完整")},deleteRecomGame:function(t){var e=this;it({re_id:t}).then(function(t){"0"==t.state?(e.$Message.success(t.msg),e.getdata()):e.$Message.error(t.msg)})}}},pe=ce,ue=(a("1763"),Object(u["a"])(pe,oe,de,!1,null,"4cf1237a",null));ue.options.__file="Recom_recommend.vue";var me=ue.exports;i["default"].use(f["a"]);var ge=new f["a"]({base:"/",routes:[{path:"/home",name:"home",component:_t,children:[{path:"/marilyn",name:"marilyn",component:It},{path:"/tag",name:"tag",component:Rt},{path:"/games",name:"games",component:Pt},{path:"/pending",name:"pending",component:Ot},{path:"/recomGame",name:"recomGame",component:ee},{path:"/recomPlatform",name:"recomPlatform",component:re},{path:"/recomRecommend",name:"recomRecommend",component:me}]},{path:"/",name:"login",component:Vt}]}),fe=a("2f62");i["default"].use(fe["a"]);var he=new fe["a"].Store({state:{},mutations:{},actions:{}}),ve=a("e069"),ye=a.n(ve),_e=(a("dcad"),a("15f5"),a("5c96")),be=a.n(_e);a("0fae"),a("705c");function xe(t){console.log(t)}i["default"].use(be.a),i["default"].prototype.$api=A,ge.beforeEach(function(t,e,a){W().then(function(e){"login"==t.name?a():0==e.state?a({path:"/"}):a()})}),i["default"].use(ye.a),window.log=xe,i["default"].config.productionTip=!1,new i["default"]({router:ge,store:he,render:function(t){return t(g)}}).$mount("#app")},"59e8":function(t,e,a){},6404:function(t,e,a){},"64a9":function(t,e,a){},6880:function(t,e,a){"use strict";var i=a("6404"),n=a.n(i);n.a},6990:function(t,e,a){},8433:function(t,e,a){"use strict";var i=a("23af"),n=a.n(i);n.a},"930c":function(t,e,a){"use strict";var i=a("d283"),n=a.n(i);n.a},afc6:function(t,e,a){"use strict";var i=a("0e09"),n=a.n(i);n.a},bb0b:function(t,e,a){"use strict";var i=a("cd1e"),n=a.n(i);n.a},c23f:function(t,e,a){"use strict";var i=a("0423"),n=a.n(i);n.a},c2ce:function(t,e,a){},cccb:function(t,e,a){"use strict";var i=a("d563"),n=a.n(i);n.a},cd1e:function(t,e,a){},d283:function(t,e,a){},d563:function(t,e,a){},d842:function(t,e,a){"use strict";var i=a("6990"),n=a.n(i);n.a}});
//# sourceMappingURL=app.7b550c13.js.map